{"version":3,"sources":["../src/components/TableToolbar.tsx","../src/components/TableRenderer.tsx","../src/components/FormRenderer.tsx","../src/components/DynamicModal.tsx"],"names":["t","jsxs","jsx","React","useState","useCallback","validateField","useImperativeHandle","useMemo","Fragment","forwardRef","useEffect"],"mappings":"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","file":"chunk-C6V4QM4W.mjs","sourcesContent":["/**\n * TableToolbar Component\n * \n * Renders a toolbar above a table with search, filters, and action buttons\n * \n * Features:\n * - Text search input\n * - Advanced search modal\n * - Refresh button\n * - Create button\n * - Selection actions (show only when rows are selected)\n * - Dynamic column filters\n */\n\nimport React, { useState, useCallback } from 'react';\nimport { t as libT, resolveLabel } from '../i18n/I18n';\nimport { cn } from '../core/utils';\nimport type { ColumnConfig } from '../core/types';\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\nexport interface TableToolbarProps {\n  /** Show search input */\n  showSearch?: boolean;\n  \n  /** Search placeholder text */\n  searchPlaceholder?: string;\n  \n  /** Current search value */\n  searchValue?: string;\n  \n  /** Callback when search input changes */\n  onSearch?: (query: string) => void;\n  \n  /** Show refresh button */\n  showRefresh?: boolean;\n  \n  /** Callback when refresh button is clicked */\n  onRefresh?: () => void;\n  \n  /** Loading state for refresh button */\n  refreshLoading?: boolean;\n  \n  /** Show create button */\n  showCreate?: boolean;\n  \n  /** Label for create button */\n  createLabel?: string;\n  \n  /** Callback when create button is clicked */\n  onCreate?: () => void;\n  \n  /** Show advanced search */\n  showAdvancedSearch?: boolean;\n  \n  /** Callback when advanced search is opened */\n  onAdvancedSearch?: () => void;\n  \n  /** Number of selected rows (shows selection actions) */\n  selectedCount?: number;\n  \n  /** Callback when selection actions are triggered */\n  onClearSelection?: () => void;\n  \n  /** Callback when delete selected is clicked */\n  onDeleteSelected?: () => void;\n  \n  /** Delete selected button label */\n  deleteLabel?: string;\n\n  /** Callback when export selected is clicked */\n  onExport?: () => void;\n  \n  /** Custom toolbar height */\n  height?: string | number;\n  \n  /** Custom class name */\n  className?: string;\n  \n  /** Column definitions (for advanced filtering) */\n  columns?: ColumnConfig[];\n  \n  /** Custom toolbar content (renders after standard buttons) */\n  renderCustomContent?: () => React.ReactNode;\n  \n  /** Disable entire toolbar */\n  disabled?: boolean;\n  \n  /** Show border bottom */\n  bordered?: boolean;\n}\n\n// ============================================================================\n// ICONS\n// ============================================================================\n\nconst Icons = {\n  search: (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" style={{ width: '1.2em', height: '1.2em' }}>\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.5 5.5a7.5 7.5 0 0 0 10.5 10.5Z\" />\n    </svg>\n  ),\n  refresh: (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" style={{ width: '1.2em', height: '1.2em' }}>\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992M2.763 9.348c.547-4.055 4.29-7.298 8.888-7.298 4.694 0 8.502 3.362 8.996 7.748h4.992v-.001M2.723 13.467c.12.95.904 1.676 1.9 1.676h15.692c.996 0 1.78-.726 1.9-1.676m-17.492 0a2.25 2.25 0 0 0-1.853-2.965 2.25 2.25 0 0 0-2.236 2.965m19.5 0a2.25 2.25 0 0 0 1.853-2.965 2.25 2.25 0 0 0 2.236 2.965\" />\n    </svg>\n  ),\n  plus: (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" style={{ width: '1.2em', height: '1.2em' }}>\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 4.5v15m7.5-7.5h-15\" />\n    </svg>\n  ),\n  trash: (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" style={{ width: '1.2em', height: '1.2em' }}>\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L19.18 2.318c.169-.897-.134-1.638-1.034-1.638h-5.096c-.9 0-1.203.74-1.034 1.638L9.26 9M4.25 9L4.596 18c.305 1.619 1.045 2.5 2.589 2.5h6.63c1.544 0 2.284-.881 2.589-2.5l.346-9m-4.215 0h3.02m-9.755 0c.342.052.682.107 1.022.166\" />\n    </svg>\n  ),\n  advancedSearch: (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" style={{ width: '1.2em', height: '1.2em' }}>\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M10.5 6a7.5 7.5 0 1 0 0 15 7.5 7.5 0 0 0 0-15ZM21 21l-5.197-5.197\" />\n    </svg>\n  ),\n};\n\n// ============================================================================\n// MAIN COMPONENT\n// ============================================================================\n\nexport function TableToolbar(props: TableToolbarProps): React.ReactElement {\n  const t = libT;\n  const {\n    showSearch = false,\n    searchPlaceholder,\n    searchValue = '',\n    onSearch,\n    showRefresh = false,\n    onRefresh,\n    refreshLoading = false,\n    showCreate = false,\n    createLabel,\n    onCreate,\n    showAdvancedSearch = false,\n    onAdvancedSearch,\n    selectedCount = 0,\n    onClearSelection,\n    onDeleteSelected,\n    deleteLabel,\n    height = '56px',\n    className,\n    columns,\n    renderCustomContent,\n    disabled = false,\n    bordered = true,\n  } = props;\n\n  const [localSearch, setLocalSearch] = useState(searchValue);\n\n  const handleSearchChange = useCallback((value: string) => {\n    setLocalSearch(value);\n    onSearch?.(value);\n  }, [onSearch]);\n\n  // Only render if there are any tools to show\n  const hasTools = showSearch || showRefresh || showCreate || showAdvancedSearch;\n  \n  if (!hasTools && selectedCount === 0 && !renderCustomContent) {\n    return <></>;\n  }\n\n  return (\n    <div\n      className={cn(\n        'dui-table-toolbar',\n        bordered && 'dui-table-toolbar-bordered',\n        disabled && 'dui-table-toolbar-disabled',\n        className\n      )}\n    >\n      {/* Selection Info & Actions */}\n      {selectedCount > 0 ? (\n        <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\n          <span className=\"dui-table-toolbar-selection-badge\">\n            {t('table.selected', { count: selectedCount })}\n          </span>\n          \n          {onDeleteSelected && (\n            <button\n              type=\"button\"\n              onClick={onDeleteSelected}\n              disabled={disabled}\n              className=\"dui-table-toolbar-btn dui-table-toolbar-btn-danger\"\n            >\n              {Icons.trash}\n              {deleteLabel || t('table.delete')}\n            </button>\n          )}\n\n          {onExport && (\n            <button\n              type=\"button\"\n              onClick={onExport}\n              disabled={disabled}\n              className=\"dui-table-toolbar-btn dui-table-toolbar-btn-secondary\"\n            >\n              {t('export')}\n            </button>\n          )}\n          \n          {onClearSelection && (\n            <button\n              type=\"button\"\n              onClick={onClearSelection}\n              disabled={disabled}\n              className=\"dui-table-toolbar-btn dui-table-toolbar-btn-secondary\"\n            >\n              {t('table.clearSelection')}\n            </button>\n          )}\n        </div>\n      ) : (\n        <>\n          {/* Search Input */}\n          {showSearch && (\n            <div className=\"dui-table-toolbar-search\">\n              {Icons.search}\n              <input\n                type=\"text\"\n                value={localSearch}\n                onChange={(e) => handleSearchChange(e.target.value)}\n                placeholder={searchPlaceholder || t('table.search', { default: 'Buscar...' })}\n                disabled={disabled}\n                className=\"dui-table-toolbar-input\"\n              />\n            </div>\n          )}\n\n          {/* Advanced Search Button */}\n          {showAdvancedSearch && onAdvancedSearch && (\n            <button\n              type=\"button\"\n              onClick={onAdvancedSearch}\n              disabled={disabled}\n              className=\"dui-table-toolbar-btn dui-table-toolbar-btn-secondary\"\n              title={t('table.advancedSearch', { default: 'Bsqueda avanzada' })}\n            >\n              {Icons.advancedSearch}\n              {t('table.advancedSearch', { default: 'Avanzada' })}\n            </button>\n          )}\n\n          {/* Spacer - push actions to the right */}\n          {(showRefresh || showCreate || showAdvancedSearch || showSearch) && (\n            <div className=\"dui-table-toolbar-spacer\" />\n          )}\n\n          {/* Refresh Button */}\n          {showRefresh && onRefresh && (\n            <button\n              type=\"button\"\n              onClick={onRefresh}\n              disabled={disabled || refreshLoading}\n              className=\"dui-table-toolbar-btn dui-table-toolbar-btn-secondary\"\n              title={t('table.refresh', { default: 'Refrescar' })}\n            >\n              {Icons.refresh}\n              {t('table.refresh', { default: 'Refrescar' })}\n            </button>\n          )}\n\n          {/* Create Button */}\n          {showCreate && onCreate && (\n            <button\n              type=\"button\"\n              onClick={onCreate}\n              disabled={disabled}\n              className=\"dui-table-toolbar-btn dui-table-toolbar-btn-primary\"\n            >\n              {Icons.plus}\n              {createLabel || t('table.create', { default: 'Crear' })}\n            </button>\n          )}\n\n          {/* Custom Content */}\n          {renderCustomContent && (\n            <div className=\"dui-table-toolbar-custom\">\n              {renderCustomContent()}\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default TableToolbar;\n","/**\n * TableRenderer Component\n * \n * A flexible, configurable data table component with built-in support for:\n * - Pagination (with customizable page sizes)\n * - Sorting (single and multi-column)\n * - Filtering (text, select, date range)\n * - Row selection (single and multi-select)\n * - Custom cell rendering\n * - Column visibility toggles\n * - Responsive design with horizontal scroll\n * \n * @module components/TableRenderer\n */\n\nimport React, { \n  useMemo, \n  useCallback, \n  useState,\n  useEffect,\n  forwardRef,\n  useImperativeHandle,\n  type ReactNode,\n  type CSSProperties \n} from 'react';\n\nimport type { \n  TableConfig, \n  ColumnConfig, \n  DataRecord, \n  FieldValue\n} from '../core/types';\nimport { cn } from '../core/utils';\nimport { useI18n, resolveLabel } from '../i18n/I18n';\nimport { TableToolbar } from './TableToolbar';\n\n// ============================================================================\n// Types\n// ============================================================================\n\n/**\n * Sort direction type\n */\nexport type SortDirection = 'asc' | 'desc' | null;\n\n/**\n * Column sort state\n */\nexport interface ColumnSortState {\n  key: string;\n  direction: SortDirection;\n}\n\n/**\n * Filter value can be string, array (for multi-select), or object (for ranges)\n */\nexport type FilterValue = \n  | string \n  | string[] \n  | { from?: string | number; to?: string | number };\n\n/**\n * Table filter state\n */\nexport interface TableFilterState {\n  [columnKey: string]: FilterValue;\n}\n\n/**\n * Props for the TableRenderer component\n */\nexport interface TableRendererProps<T extends DataRecord = DataRecord> {\n  /** Table configuration object */\n  config: TableConfig;\n  \n  /** Data array to display */\n  data: T[];\n  \n  /** Total number of records (for server-side pagination) */\n  totalCount?: number;\n  \n  /** Loading state indicator */\n  loading?: boolean;\n  \n  /** Error message to display */\n  error?: string | null;\n  \n  /** Current page number (1-indexed) */\n  page?: number;\n  \n  /** Number of items per page */\n  pageSize?: number;\n  \n  /** Available page size options */\n  pageSizeOptions?: number[];\n  \n  /** Callback when page changes */\n  onPageChange?: (page: number) => void;\n  \n  /** Callback when page size changes */\n  onPageSizeChange?: (pageSize: number) => void;\n  \n  /** Callback when sort changes */\n  onSortChange?: (sort: ColumnSortState | null) => void;\n  \n  /** Callback when filters change */\n  onFilterChange?: (filters: TableFilterState) => void;\n  \n  /** Callback when row is clicked */\n  onRowClick?: (row: T, index: number) => void;\n  \n  /** Callback when row is double-clicked */\n  onRowDoubleClick?: (row: T, index: number) => void;\n  \n  /** Callback when selection changes */\n  onSelectionChange?: (selectedIds: Array<string | number>) => void;\n  \n  /** Selected row IDs (controlled mode) */\n  selectedIds?: Array<string | number>;\n  \n  /** Row key accessor function or string */\n  /** Theme mode: 'system' (prefers-color-scheme), 'light' or 'dark' */\n  theme?: 'system' | 'light' | 'dark';\n  \n  /** Prevent layout shift when scrollbar appears/disappears (default: true) */\n  preventLayoutShift?: boolean;\n  rowKey?: string | ((row: T) => string | number);\n  \n  /** Custom class names */\n  className?: string;\n  \n  /** Custom inline styles */\n  style?: CSSProperties;\n  \n  /** Empty state render function */\n  renderEmpty?: () => ReactNode;\n  \n  /** Loading state render function */\n  renderLoading?: () => ReactNode;\n  \n  /** Error state render function */\n  renderError?: (error: string) => ReactNode;\n  \n  /** Custom header render function */\n  renderHeader?: (columns: ColumnConfig[]) => ReactNode;\n  \n  /** Custom row render function */\n  renderRow?: (row: T, index: number, columns: ColumnConfig[]) => ReactNode;\n  \n  /** Actions column content (rendered at the end of each row) */\n  renderActions?: (row: T, index: number) => ReactNode;\n  \n  /** Enable sticky header */\n  stickyHeader?: boolean;\n  \n  /** Maximum height before scrolling (enables virtual scroll appearance) */\n  maxHeight?: string | number;\n  \n  /** Stripe alternate rows */\n  striped?: boolean;\n  \n  /** Add hover effect to rows */\n  hoverable?: boolean;\n  \n  /** Add border between rows */\n  bordered?: boolean;\n  \n  /** Compact row padding */\n  compact?: boolean;\n  \n  /** Enable row selection */\n  selectable?: boolean;\n  \n  /** Selection mode: single or multiple */\n  selectionMode?: 'single' | 'multiple';\n  \n  /** Show row numbers */\n  showRowNumbers?: boolean;\n  \n  /** Value to display for null/undefined cells */\n  emptyValue?: string;\n  \n  // =========================================================================\n  // TOOLBAR PROPS\n  // =========================================================================\n  \n  /** Show toolbar above table */\n  showToolbar?: boolean;\n  \n  /** Show search input in toolbar */\n  showToolbarSearch?: boolean;\n  \n  /** Search placeholder text */\n  toolbarSearchPlaceholder?: string;\n  \n  /** Current search value (for controlled search) */\n  toolbarSearchValue?: string;\n  \n  /** Callback when toolbar search changes */\n  onToolbarSearch?: (query: string) => void;\n  \n  /** Show refresh button in toolbar */\n  showToolbarRefresh?: boolean;\n  \n  /** Callback when refresh button is clicked */\n  onToolbarRefresh?: () => void;\n  \n  /** Show create button in toolbar */\n  showToolbarCreate?: boolean;\n  \n  /** Create button label */\n  toolbarCreateLabel?: string;\n  \n  /** Callback when create button is clicked */\n  onToolbarCreate?: () => void;\n  \n  /** Show advanced search button in toolbar */\n  showToolbarAdvancedSearch?: boolean;\n  \n  /** Callback when advanced search button is clicked */\n  onToolbarAdvancedSearch?: () => void;\n  \n  /** Delete selected button label */\n  toolbarDeleteLabel?: string;\n  \n  /** Callback when delete selected is clicked */\n  onToolbarDeleteSelected?: () => void;\n  \n  /** Custom toolbar content render function */\n  renderToolbarCustomContent?: () => ReactNode;\n  \n  /** Disable toolbar */\n  toolbarDisabled?: boolean;\n}\n\n/**\n * Table renderer ref interface\n */\nexport interface TableRendererRef {\n  /** Clear all filters */\n  clearFilters: () => void;\n  /** Clear selection */\n  clearSelection: () => void;\n  /** Reset to first page */\n  resetPage: () => void;\n  /** Get current filter state */\n  getFilters: () => TableFilterState;\n  /** Get selected row IDs */\n  getSelectedIds: () => Array<string | number>;\n}\n\n// ============================================================================\n// Helper Components\n// ============================================================================\n\n/**\n * Default empty state component\n */\nfunction DefaultEmptyState(): JSX.Element {\n  const { t } = useI18n();\n  return (\n    <div className=\"dui-table-empty\">\n      <svg \n        className=\"dui-table-empty-icon\" \n        viewBox=\"0 0 24 24\" \n        fill=\"none\" \n        stroke=\"currentColor\"\n        width=\"48\"\n        height=\"48\"\n      >\n        <path \n          strokeLinecap=\"round\" \n          strokeLinejoin=\"round\" \n          strokeWidth={1.5} \n          d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" \n        />\n      </svg>\n      <p className=\"dui-table-empty-text\">{t('table.empty')}</p>\n    </div>\n  );\n}\n\n/**\n * Default loading state component\n */\nfunction DefaultLoadingState(): JSX.Element {\n  const { t } = useI18n();\n  return (\n    <div className=\"dui-table-loading\">\n      <div className=\"dui-table-loading-spinner\" />\n      <p className=\"dui-table-loading-text\">{t('table.loading')}</p>\n    </div>\n  );\n}\n\n/**\n * Default error state component\n */\nfunction DefaultErrorState({ error }: { error: string }): JSX.Element {\n  const { t } = useI18n();\n  return (\n    <div className=\"dui-table-error\">\n      <svg \n        className=\"dui-table-error-icon\" \n        viewBox=\"0 0 24 24\" \n        fill=\"none\" \n        stroke=\"currentColor\"\n        width=\"48\"\n        height=\"48\"\n      >\n        <path \n          strokeLinecap=\"round\" \n          strokeLinejoin=\"round\" \n          strokeWidth={1.5} \n          d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" \n        />\n      </svg>\n      <p className=\"dui-table-error-text\">{t('table.error')}</p>\n      <p className=\"dui-table-error-detail\">{error}</p>\n    </div>\n  );\n}\n\n/**\n * Sort indicator icon\n */\nfunction SortIndicator({ direction }: { direction: SortDirection }): JSX.Element {\n  if (!direction) {\n    return (\n      <svg className=\"dui-table-sort-icon dui-table-sort-inactive\" viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" fill=\"currentColor\">\n        <path d=\"M7 10l5-5 5 5H7z M7 14l5 5 5-5H7z\" />\n      </svg>\n    );\n  }\n  \n  return (\n    <svg \n      className={cn('dui-table-sort-icon', direction === 'desc' && 'dui-table-sort-desc')} \n      viewBox=\"0 0 24 24\" \n      width=\"16\" \n      height=\"16\" \n      fill=\"currentColor\"\n    >\n      {direction === 'asc' \n        ? <path d=\"M7 14l5-5 5 5H7z\" />\n        : <path d=\"M7 10l5 5 5-5H7z\" />\n      }\n    </svg>\n  );\n}\n\n/**\n * Checkbox component for row selection\n */\nfunction Checkbox({ \n  checked, \n  indeterminate, \n  onChange,\n  disabled \n}: { \n  checked: boolean; \n  indeterminate?: boolean;\n  onChange: (checked: boolean) => void;\n  disabled?: boolean;\n}): JSX.Element {\n  const ref = React.useRef<HTMLInputElement>(null);\n  \n  useEffect(() => {\n    if (ref.current) {\n      ref.current.indeterminate = indeterminate ?? false;\n    }\n  }, [indeterminate]);\n  \n  return (\n    <input\n      ref={ref}\n      type=\"checkbox\"\n      className=\"dui-table-checkbox\"\n      checked={checked}\n      disabled={disabled}\n      onChange={(e) => onChange(e.target.checked)}\n    />\n  );\n}\n\n// ============================================================================\n// Cell Renderers\n// ============================================================================\n\n/**\n * Get the value from a row using accessor\n */\nfunction getCellValue<T extends DataRecord>(\n  row: T, \n  column: ColumnConfig\n): unknown {\n  const accessor = column.accessor || column.key;\n  \n  // Handle nested paths like \"user.name\"\n  if (typeof accessor === 'string' && accessor.includes('.')) {\n    return accessor.split('.').reduce((obj: unknown, key: string) => {\n      if (obj && typeof obj === 'object') {\n        return (obj as Record<string, unknown>)[key];\n      }\n      return undefined;\n    }, row);\n  }\n  \n  return row[accessor as string];\n}\n\n/**\n * Format cell value based on column configuration\n */\nfunction formatCellValue<T extends DataRecord>(\n  value: unknown, \n  column: ColumnConfig<T>,\n  row: T,\n  emptyValuePlaceholder: string\n): ReactNode {\n  // Handle null/undefined\n  if (value === null || value === undefined) {\n    return emptyValuePlaceholder;\n  }\n  \n  // Use custom render function if provided\n  if (column.render) {\n    // Cast to any to avoid type conflicts with nested React types during build\n    return column.render(value as FieldValue, row, 0) as unknown as ReactNode;\n  }\n\n  // Use format function if provided\n  if (column.format) {\n    return column.format(value as FieldValue, row);\n  }\n  \n  // Type-specific formatting\n  switch (column.type) {\n    case 'number':\n    case 'currency':\n    case 'percent': {\n      const num = typeof value === 'number' ? value : parseFloat(String(value));\n      if (isNaN(num)) return String(value);\n\n      const localeToUse = (column as any).locale || 'es-AR';\n      \n      if (column.type === 'currency') {\n        const currencyCode = (column as any).currency || 'USD';\n        return new Intl.NumberFormat(localeToUse, { \n          style: 'currency', \n          currency: currencyCode,\n          minimumFractionDigits: 2 \n        }).format(num);\n      }\n      \n      if (column.type === 'percent') {\n        return new Intl.NumberFormat(localeToUse, { \n          style: 'percent',\n          minimumFractionDigits: 0,\n          maximumFractionDigits: 2 \n        }).format(num / 100);\n      }\n      \n      return new Intl.NumberFormat(localeToUse).format(num);\n    }\n    \n    case 'date':\n    case 'datetime': {\n      const date = value instanceof Date ? value : new Date(String(value));\n      if (isNaN(date.getTime())) return String(value);\n      const localeToUse = (column as any).locale || 'es-AR';\n      \n      return new Intl.DateTimeFormat(localeToUse, {\n        dateStyle: 'medium',\n        timeStyle: column.type === 'datetime' ? 'short' : undefined\n      }).format(date);\n    }\n    \n    case 'boolean':\n      return value ? '' : '';\n    \n    case 'badge':\n    case 'status':\n      return (\n        <span className={cn('dui-table-badge', `dui-table-badge-${String(value).toLowerCase()}`)}>\n          {String(value)}\n        </span>\n      );\n    \n    case 'link':\n      return (\n        <a \n          href={String(value)} \n          className=\"dui-table-link\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          {String(value)}\n        </a>\n      );\n    \n    default:\n      return String(value);\n  }\n}\n\n// ============================================================================\n// Pagination Component\n// ============================================================================\n\ninterface PaginationProps {\n  currentPage: number;\n  totalPages: number;\n  pageSize: number;\n  totalCount: number;\n  pageSizeOptions: number[];\n  onPageChange: (page: number) => void;\n  onPageSizeChange: (pageSize: number) => void;\n}\n\nfunction Pagination({\n  currentPage,\n  totalPages,\n  pageSize,\n  totalCount,\n  pageSizeOptions,\n  onPageChange,\n  onPageSizeChange\n}: PaginationProps): JSX.Element {\n  const { t } = useI18n();\n  \n  const startRecord = totalCount === 0 ? 0 : (currentPage - 1) * pageSize + 1;\n  const endRecord = Math.min(currentPage * pageSize, totalCount);\n  \n  // Generate page numbers to display\n  const pageNumbers = useMemo(() => {\n    const pages: (number | 'ellipsis')[] = [];\n    const maxVisiblePages = 7;\n    \n    if (totalPages <= maxVisiblePages) {\n      for (let i = 1; i <= totalPages; i++) {\n        pages.push(i);\n      }\n    } else {\n      pages.push(1);\n      \n      if (currentPage > 3) {\n        pages.push('ellipsis');\n      }\n      \n      for (let i = Math.max(2, currentPage - 1); i <= Math.min(totalPages - 1, currentPage + 1); i++) {\n        if (!pages.includes(i)) {\n          pages.push(i);\n        }\n      }\n      \n      if (currentPage < totalPages - 2) {\n        pages.push('ellipsis');\n      }\n      \n      if (!pages.includes(totalPages)) {\n        pages.push(totalPages);\n      }\n    }\n    \n    return pages;\n  }, [currentPage, totalPages]);\n  \n  return (\n    <div className=\"dui-table-pagination\">\n      <div className=\"dui-table-pagination-info\">\n        {t('table.pagination.showing', \n          { start: startRecord, end: endRecord, total: totalCount }, \n          `Showing ${startRecord} to ${endRecord} of ${totalCount} entries`\n        )}\n      </div>\n      \n      <div className=\"dui-table-pagination-controls\">\n        <div className=\"dui-table-pagination-pagesize\">\n          <label>{t('table.pagination.pageSize', {}, 'Page size')}:</label>\n          <select\n            value={pageSize}\n            onChange={(e) => onPageSizeChange(Number(e.target.value))}\n            className=\"dui-table-pagination-select\"\n          >\n            {pageSizeOptions.map((size) => (\n              <option key={size} value={size}>\n                {size}\n              </option>\n            ))}\n          </select>\n        </div>\n        \n        <nav className=\"dui-table-pagination-nav\">\n          <button\n            className=\"dui-table-pagination-btn\"\n            onClick={() => onPageChange(1)}\n            disabled={currentPage === 1}\n            aria-label={t('table.pagination.first')}\n          >\n            \n          </button>\n          \n          <button\n            className=\"dui-table-pagination-btn\"\n            onClick={() => onPageChange(currentPage - 1)}\n            disabled={currentPage === 1}\n            aria-label={t('table.pagination.previous')}\n          >\n            \n          </button>\n          \n          {pageNumbers.map((page, index) => (\n            page === 'ellipsis' ? (\n              <span key={`ellipsis-${index}`} className=\"dui-table-pagination-ellipsis\"></span>\n            ) : (\n              <button\n                key={page}\n                className={cn(\n                  'dui-table-pagination-btn',\n                  page === currentPage && 'dui-table-pagination-btn-active'\n                )}\n                onClick={() => onPageChange(page)}\n              >\n                {page}\n              </button>\n            )\n          ))}\n          \n          <button\n            className=\"dui-table-pagination-btn\"\n            onClick={() => onPageChange(currentPage + 1)}\n            disabled={currentPage === totalPages}\n            aria-label={t('table.pagination.next')}\n          >\n            \n          </button>\n          \n          <button\n            className=\"dui-table-pagination-btn\"\n            onClick={() => onPageChange(totalPages)}\n            disabled={currentPage === totalPages}\n            aria-label={t('table.pagination.last')}\n          >\n            \n          </button>\n        </nav>\n      </div>\n    </div>\n  );\n}\n\n// ============================================================================\n// Selection Hook (simplified inline version)\n// ============================================================================\n\nfunction useSimpleSelection<T extends DataRecord>(\n  data: T[],\n  rowKeyProp: string | ((row: T) => string | number),\n  mode: 'single' | 'multiple',\n  initialSelection?: Array<string | number>\n) {\n  const [selected, setSelected] = useState<Set<string | number>>(\n    () => new Set(initialSelection || [])\n  );\n  \n  const getKey = useCallback((row: T): string | number => {\n    if (typeof rowKeyProp === 'function') {\n      return rowKeyProp(row);\n    }\n    return row[rowKeyProp] as string | number;\n  }, [rowKeyProp]);\n  \n  const isSelected = useCallback((key: string | number): boolean => {\n    return selected.has(key);\n  }, [selected]);\n  \n  const toggle = useCallback((key: string | number) => {\n    setSelected(prev => {\n      const next = new Set(prev);\n      if (mode === 'single') {\n        if (prev.has(key)) {\n          next.clear();\n        } else {\n          next.clear();\n          next.add(key);\n        }\n      } else {\n        if (prev.has(key)) {\n          next.delete(key);\n        } else {\n          next.add(key);\n        }\n      }\n      return next;\n    });\n  }, [mode]);\n  \n  const toggleAll = useCallback(() => {\n    setSelected(prev => {\n      if (prev.size === data.length) {\n        return new Set();\n      }\n      return new Set(data.map(getKey));\n    });\n  }, [data, getKey]);\n  \n  const clear = useCallback(() => {\n    setSelected(new Set());\n  }, []);\n  \n  const selectedIds = useMemo(() => Array.from(selected), [selected]);\n  const isAllSelected = data.length > 0 && selected.size === data.length;\n  const isSomeSelected = selected.size > 0 && selected.size < data.length;\n  \n  return {\n    selectedIds,\n    isSelected,\n    isAllSelected,\n    isSomeSelected,\n    toggle,\n    toggleAll,\n    clear,\n  };\n}\n\n// ============================================================================\n// Main TableRenderer Component\n// ============================================================================\n\n/**\n * TableRenderer - A flexible, configurable data table component\n */\nfunction TableRendererInner<T extends DataRecord>(\n  props: TableRendererProps<T>,\n  ref: React.ForwardedRef<TableRendererRef>\n): JSX.Element {\n  const {\n    config,\n    data,\n    totalCount: externalTotalCount,\n    loading = false,\n    error = null,\n    page: externalPage,\n    pageSize: externalPageSize,\n    pageSizeOptions = [10, 25, 50, 100],\n    onPageChange,\n    onPageSizeChange,\n    onSortChange,\n    onFilterChange,\n    onRowClick,\n    onRowDoubleClick,\n    onSelectionChange,\n    selectedIds: externalSelectedIds,\n    rowKey = 'id',\n    className,\n    style,\n    renderEmpty = () => <DefaultEmptyState />,\n    renderLoading = () => <DefaultLoadingState />,\n    renderError = (err) => <DefaultErrorState error={err} />,\n    renderHeader,\n    renderRow,\n    renderActions,\n    stickyHeader = false,\n    maxHeight,\n    striped = false,\n    hoverable = true,\n    bordered = false,\n    compact = false,\n    selectable = false,\n    selectionMode = 'multiple',\n    showRowNumbers = false,\n    emptyValue = '',\n    theme = 'system',\n    preventLayoutShift = true,\n    // Toolbar props\n    showToolbar = false,\n    showToolbarSearch = false,\n    toolbarSearchPlaceholder,\n    toolbarSearchValue = '',\n    onToolbarSearch,\n    showToolbarRefresh = false,\n    onToolbarRefresh,\n    showToolbarCreate = false,\n    toolbarCreateLabel,\n    onToolbarCreate,\n    showToolbarAdvancedSearch = false,\n    onToolbarAdvancedSearch,\n    toolbarDeleteLabel,\n    onToolbarDeleteSelected,\n    renderToolbarCustomContent,\n    toolbarDisabled = false,\n  } = props;\n  \n  const { t } = useI18n();\n  \n  // Internal state for uncontrolled mode\n  const [internalPage, setInternalPage] = useState(1);\n  const [internalPageSize, setInternalPageSize] = useState(\n    config.pagination?.pageSize ?? 10\n  );\n  const [sortState, setSortState] = useState<ColumnSortState | null>(null);\n  const [filters, setFilters] = useState<TableFilterState>({});\n  \n  // Determine controlled vs uncontrolled mode\n  const isPageControlled = externalPage !== undefined;\n  const currentPage = isPageControlled ? externalPage : internalPage;\n  const currentPageSize = externalPageSize ?? internalPageSize;\n  const totalCount = externalTotalCount ?? data.length;\n  const totalPages = Math.max(1, Math.ceil(totalCount / currentPageSize));\n  \n  // Get visible columns\n  const visibleColumns = useMemo(() => {\n    return config.columns.filter((col) => col.visible !== false);\n  }, [config.columns]);\n  \n  // Row key getter\n  const getKey = useCallback((row: T): string | number => {\n    if (typeof rowKey === 'function') {\n      return rowKey(row);\n    }\n    return (row as DataRecord)[rowKey] as string | number;\n  }, [rowKey]);\n  \n  // Selection\n  const selection = useSimpleSelection(\n    data,\n    rowKey,\n    selectionMode,\n    externalSelectedIds\n  );\n  \n  // Notify parent of selection changes\n  useEffect(() => {\n    if (onSelectionChange && selectable) {\n      onSelectionChange(selection.selectedIds);\n    }\n  }, [selection.selectedIds, onSelectionChange, selectable]);\n  \n  // Handle page change\n  const handlePageChange = useCallback((newPage: number) => {\n    if (isPageControlled && onPageChange) {\n      onPageChange(newPage);\n    } else {\n      setInternalPage(newPage);\n    }\n  }, [isPageControlled, onPageChange]);\n  \n  // Handle page size change\n  const handlePageSizeChange = useCallback((newPageSize: number) => {\n    if (onPageSizeChange) {\n      onPageSizeChange(newPageSize);\n    }\n    setInternalPageSize(newPageSize);\n    handlePageChange(1);\n  }, [onPageSizeChange, handlePageChange]);\n  \n  // Handle sort change\n  const handleSortChange = useCallback((column: ColumnConfig) => {\n    if (!column.sortable) return;\n    \n    const newSort: ColumnSortState | null = sortState?.key === column.key\n      ? sortState.direction === 'asc'\n        ? { key: column.key, direction: 'desc' }\n        : sortState.direction === 'desc'\n          ? null\n          : { key: column.key, direction: 'asc' }\n      : { key: column.key, direction: 'asc' };\n    \n    setSortState(newSort);\n    if (onSortChange) {\n      onSortChange(newSort);\n    }\n  }, [sortState, onSortChange]);\n  \n  // Clear all filters\n  const clearFilters = useCallback(() => {\n    setFilters({});\n    if (onFilterChange) {\n      onFilterChange({});\n    }\n  }, [onFilterChange]);\n  \n  // Reset page\n  const resetPage = useCallback(() => {\n    handlePageChange(1);\n  }, [handlePageChange]);\n  \n  // Expose ref methods\n  useImperativeHandle(ref, () => ({\n    clearFilters,\n    clearSelection: selection.clear,\n    resetPage,\n    getFilters: () => filters,\n    getSelectedIds: () => selection.selectedIds\n  }), [clearFilters, selection.clear, resetPage, filters, selection.selectedIds]);\n  \n  // Apply client-side pagination if not controlled\n  const displayData = useMemo(() => {\n    if (isPageControlled) {\n      return data;\n    }\n    const start = (currentPage - 1) * currentPageSize;\n    return data.slice(start, start + currentPageSize);\n  }, [data, isPageControlled, currentPage, currentPageSize]);\n  \n  // Compute effective theme: when 'system', prefer document's Bootstrap attribute `data-bs-theme`, fall back to prefers-color-scheme\n  const effectiveTheme = (() => {\n    if (theme === 'dark') return 'dark';\n    if (theme === 'light') return 'light';\n    // theme === 'system'\n    if (typeof window !== 'undefined' && typeof document !== 'undefined') {\n      const bs = document.documentElement.getAttribute('data-bs-theme');\n      if (bs === 'dark' || bs === 'light') return bs as 'dark' | 'light';\n      return window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n    }\n    return 'light';\n  })();\n\n  // Render loading state\n  if (loading && data.length === 0) {\n    return (\n      <div className={cn('dui-table-container', effectiveTheme === 'dark' ? 'dui-theme--dark' : 'dui-theme--light', className)} style={style}>\n        {renderLoading()}\n      </div>\n    );\n  }\n  \n  // Render error state\n  if (error && data.length === 0) {\n    return (\n      <div className={cn('dui-table-container', effectiveTheme === 'dark' ? 'dui-theme--dark' : 'dui-theme--light', className)} style={style}>\n        {renderError(error)}\n      </div>\n    );\n  }\n  \n  // Calculate table classes\n  const tableClasses = cn(\n    'dui-table',\n    striped && 'dui-table-striped',\n    hoverable && 'dui-table-hoverable',\n    bordered && 'dui-table-bordered',\n    compact && 'dui-table-compact',\n    stickyHeader && 'dui-table-sticky-header'\n  );\n  \n  // Container styles\n  const containerStyle: CSSProperties = {\n    ...style,\n    ...(maxHeight ? { maxHeight, overflowY: 'auto' } : {})\n  };\n  \n  return (\n    <div className={cn('dui-table-container', effectiveTheme === 'dark' ? 'dui-theme--dark' : 'dui-theme--light', className)} style={containerStyle}>\n      {/* Toolbar */}\n      {showToolbar && (\n        <TableToolbar\n          showSearch={showToolbarSearch}\n          searchPlaceholder={toolbarSearchPlaceholder}\n          searchValue={toolbarSearchValue}\n          onSearch={onToolbarSearch}\n          showRefresh={showToolbarRefresh}\n          onRefresh={onToolbarRefresh}\n          showCreate={showToolbarCreate}\n          createLabel={typeof toolbarCreateLabel !== 'undefined' ? toolbarCreateLabel : (config && (config as any).toolbarCreateLabel)}\n          onCreate={onToolbarCreate}\n          showAdvancedSearch={showToolbarAdvancedSearch}\n          onAdvancedSearch={onToolbarAdvancedSearch}\n          selectedCount={selection.selectedIds.length}\n          onClearSelection={selection.clear}\n          onDeleteSelected={onToolbarDeleteSelected}\n          deleteLabel={toolbarDeleteLabel}\n          renderCustomContent={renderToolbarCustomContent}\n          disabled={toolbarDisabled}\n          columns={config.columns}\n        />\n      )}\n      \n      <div className=\"dui-table-wrapper\" style={preventLayoutShift ? { scrollbarGutter: 'stable' as any } : {}}>\n        <table className={tableClasses}>\n          <thead className=\"dui-table-head\">\n            {renderHeader ? (\n              renderHeader(visibleColumns)\n            ) : (\n              <tr className=\"dui-table-row dui-table-header-row\">\n                {selectable && selectionMode === 'multiple' && (\n                  <th className=\"dui-table-th dui-table-th-checkbox\">\n                    <Checkbox\n                      checked={selection.isAllSelected}\n                      indeterminate={selection.isSomeSelected && !selection.isAllSelected}\n                      onChange={() => selection.toggleAll()}\n                    />\n                  </th>\n                )}\n                \n                {selectable && selectionMode === 'single' && (\n                  <th className=\"dui-table-th dui-table-th-radio\" />\n                )}\n                \n                {showRowNumbers && (\n                  <th className=\"dui-table-th dui-table-th-rownum\">#</th>\n                )}\n                \n                {visibleColumns.map((column) => (\n                  <th\n                    key={column.key}\n                    className={cn(\n                      'dui-table-th',\n                      column.sortable && 'dui-table-th-sortable',\n                      column.align && `dui-table-th-${column.align}`\n                    )}\n                    style={{\n                      width: column.width,\n                      minWidth: column.minWidth,\n                      maxWidth: column.maxWidth\n                    }}\n                    onClick={() => column.sortable && handleSortChange(column)}\n                  >\n                    <div className=\"dui-table-th-content\">\n                      <span className=\"dui-table-th-text\">{typeof column.header === 'string' ? resolveLabel(column.header) : column.header}</span>\n                      {column.sortable && (\n                        <SortIndicator \n                          direction={sortState?.key === column.key ? sortState.direction : null} \n                        />\n                      )}\n                    </div>\n                  </th>\n                ))}\n                \n                {renderActions && (\n                  <th className=\"dui-table-th dui-table-th-actions\">\n                    {t('table.actions')}\n                  </th>\n                )}\n              </tr>\n            )}\n          </thead>\n          \n          <tbody className=\"dui-table-body\">\n            {displayData.length === 0 ? (\n              <tr>\n                <td \n                  colSpan={\n                    visibleColumns.length + \n                    (selectable ? 1 : 0) + \n                    (showRowNumbers ? 1 : 0) + \n                    (renderActions ? 1 : 0)\n                  }\n                  className=\"dui-table-td-empty\"\n                >\n                  {renderEmpty()}\n                </td>\n              </tr>\n            ) : (\n              displayData.map((row, index) => {\n                const key = getKey(row);\n                const rowIndex = (currentPage - 1) * currentPageSize + index;\n                const isRowSelected = selectable && selection.isSelected(key);\n                \n                if (renderRow) {\n                  return renderRow(row, rowIndex, visibleColumns);\n                }\n                \n                return (\n                  <tr\n                    key={key}\n                    className={cn(\n                      'dui-table-row',\n                      isRowSelected && 'dui-table-row-selected',\n                      onRowClick && 'dui-table-row-clickable'\n                    )}\n                    onClick={() => onRowClick?.(row, rowIndex)}\n                    onDoubleClick={() => onRowDoubleClick?.(row, rowIndex)}\n                  >\n                    {selectable && selectionMode === 'multiple' && (\n                      <td \n                        className=\"dui-table-td dui-table-td-checkbox\"\n                        onClick={(e) => e.stopPropagation()}\n                      >\n                        <Checkbox\n                          checked={isRowSelected}\n                          onChange={() => selection.toggle(key)}\n                        />\n                      </td>\n                    )}\n                    \n                    {selectable && selectionMode === 'single' && (\n                      <td \n                        className=\"dui-table-td dui-table-td-radio\"\n                        onClick={(e) => e.stopPropagation()}\n                      >\n                        <input\n                          type=\"radio\"\n                          className=\"dui-table-radio\"\n                          checked={isRowSelected}\n                          onChange={() => selection.toggle(key)}\n                        />\n                      </td>\n                    )}\n                    \n                    {showRowNumbers && (\n                      <td className=\"dui-table-td dui-table-td-rownum\">\n                        {rowIndex + 1}\n                      </td>\n                    )}\n                    \n                    {visibleColumns.map((column) => {\n                      const value = getCellValue(row, column);\n                      const formattedValue = formatCellValue(\n                        value, \n                        column as ColumnConfig<T>, \n                        row, \n                        emptyValue\n                      );\n                      \n                      return (\n                        <td\n                          key={column.key}\n                          className={cn(\n                            'dui-table-td',\n                            column.align && `dui-table-td-${column.align}`\n                          )}\n                          style={{\n                            width: column.width,\n                            minWidth: column.minWidth,\n                            maxWidth: column.maxWidth\n                          }}\n                        >\n                          {formattedValue}\n                        </td>\n                      );\n                    })}\n                    \n                    {renderActions && (\n                      <td \n                        className=\"dui-table-td dui-table-td-actions\"\n                        onClick={(e) => e.stopPropagation()}\n                      >\n                        {renderActions(row, rowIndex)}\n                      </td>\n                    )}\n                  </tr>\n                );\n              })\n            )}\n          </tbody>\n        </table>\n      </div>\n      \n      {loading && data.length > 0 && (\n        <div className=\"dui-table-loading-overlay\">\n          <div className=\"dui-table-loading-spinner\" />\n        </div>\n      )}\n      \n      {config.pagination?.enabled !== false && totalPages > 0 && (\n        <Pagination\n          currentPage={currentPage}\n          totalPages={totalPages}\n          pageSize={currentPageSize}\n          totalCount={totalCount}\n          pageSizeOptions={pageSizeOptions}\n          onPageChange={handlePageChange}\n          onPageSizeChange={handlePageSizeChange}\n        />\n      )}\n    </div>\n  );\n}\n\n/**\n * TableRenderer with forwardRef support\n */\nexport const TableRenderer = forwardRef(TableRendererInner) as <T extends DataRecord>(\n  props: TableRendererProps<T> & { ref?: React.ForwardedRef<TableRendererRef> }\n) => JSX.Element;\n\n(TableRenderer as React.FC).displayName = 'TableRenderer';\n\nexport default TableRenderer;\n","/**\n * @fileoverview FormRenderer Component\n * \n * Renders dynamic forms based on JSON configuration with support for:\n * - Grouped sections with collapsible headers\n * - Conditional field visibility\n * - Computed field values\n * - Inline validation\n * - Grid-based layouts\n * \n * @module components/FormRenderer\n */\n\nimport React, { \n  forwardRef, \n  useImperativeHandle, \n  useCallback,\n  useState,\n  useMemo,\n} from 'react';\nimport type { \n  FormConfig, \n  FormSection as FormSectionConfig,\n  FieldConfig, \n  FieldValue, \n  DataRecord,\n} from '../core/types';\nimport { cn, getNestedValue } from '../core/utils';\nimport { useI18n, resolveLabel } from '../i18n/I18n';\nimport { evaluateConditions, validateField as coreValidateField } from '../core/validators';\n\n// =============================================================================\n// TYPES\n// =============================================================================\n\n/**\n * Form values type\n */\nexport type FormValues = Record<string, FieldValue>;\n\n/**\n * Form errors type\n */\nexport type FormErrors = Record<string, string | undefined>;\n\n/**\n * Form touched state type\n */\nexport type FormTouched = Record<string, boolean>;\n\n/**\n * Field render props passed to renderField\n */\nexport interface FieldRenderProps {\n  /** Field configuration */\n  field: FieldConfig;\n  /** Current field value */\n  value: FieldValue;\n  /** All form values */\n  formData: FormValues;\n  /** Field error message */\n  error?: string;\n  /** Whether field has been touched */\n  touched: boolean;\n  /** Whether field is disabled */\n  disabled: boolean;\n  /** Whether field is read-only */\n  readOnly: boolean;\n  /** Handle value change */\n  onChange: (value: FieldValue) => void;\n  /** Handle field blur */\n  onBlur: () => void;\n}\n\n/**\n * Section render props\n */\nexport interface SectionRenderProps {\n  /** Section configuration */\n  section: FormSectionConfig;\n  /** Whether section is collapsed */\n  isCollapsed: boolean;\n  /** Toggle collapse */\n  toggleCollapse: () => void;\n  /** Rendered field elements */\n  children: React.ReactNode;\n}\n\n/**\n * FormRenderer props\n */\nexport interface FormRendererProps<T extends DataRecord = DataRecord> {\n  /** Form configuration from JSON */\n  config: FormConfig;\n  /** Current form values (controlled mode) */\n  values?: T;\n  /** Initial values (uncontrolled mode) */\n  initialValues?: T;\n  /** Validation errors from parent */\n  errors?: FormErrors;\n  /** Form submit handler */\n  onSubmit?: (values: T) => void | Promise<void>;\n  /** Form cancel handler */\n  onCancel?: () => void;\n  /** Field value change handler */\n  onChange?: (name: string, value: FieldValue, values: T) => void;\n  /** Field blur handler */\n  onBlur?: (name: string) => void;\n  /** Validation error callback */\n  onValidationError?: (errors: FormErrors) => void;\n  /** Whether form is loading/submitting */\n  loading?: boolean;\n  /** Whether form is disabled */\n  disabled?: boolean;\n  /** Whether form is read-only */\n  readOnly?: boolean;\n  /** Custom field renderer */\n  renderField?: (props: FieldRenderProps) => React.ReactNode;\n  /** Custom section renderer */\n  renderSection?: (props: SectionRenderProps) => React.ReactNode;\n  /** Additional class name */\n  className?: string;\n  /** Hide form buttons */\n  hideButtons?: boolean;\n  /** Custom footer content */\n  footer?: React.ReactNode;\n  /** Custom header content */\n  header?: React.ReactNode;\n}\n\n/**\n * FormRenderer ref interface\n */\nexport interface FormRendererRef<T extends DataRecord = DataRecord> {\n  /** Get current form values */\n  getValues: () => T;\n  /** Set form values */\n  setValues: (values: Partial<T>) => void;\n  /** Set a single field value */\n  setValue: (name: string, value: FieldValue) => void;\n  /** Validate all fields */\n  validate: () => boolean;\n  /** Reset form to initial values */\n  reset: () => void;\n  /** Get validation errors */\n  getErrors: () => FormErrors;\n  /** Check if form is dirty */\n  isDirty: () => boolean;\n  /** Submit the form programmatically */\n  submit: () => Promise<void>;\n}\n\n// =============================================================================\n// DEFAULT FIELD RENDERER\n// =============================================================================\n\n/**\n * Default field renderer component\n */\nfunction DefaultFieldRenderer({ \n  field, \n  value, \n  error, \n  touched, \n  disabled,\n  readOnly,\n  onChange, \n  onBlur,\n}: FieldRenderProps): React.ReactElement {\n  const { t } = useI18n();\n  \n  const inputId = `field-${field.name}`;\n  const hasError = touched && !!error;\n\n  // Determine input type based on field type\n  const getInputType = (): string => {\n    switch (field.type) {\n      case 'email': return 'email';\n      case 'password': return 'password';\n      case 'number':\n      case 'currency':\n      case 'percent': return 'number';\n      case 'date': return 'date';\n      case 'datetime': return 'datetime-local';\n      case 'time': return 'time';\n      case 'url': return 'url';\n      case 'phone': return 'tel';\n      case 'color': return 'color';\n      case 'range': return 'range';\n      case 'hidden': return 'hidden';\n      default: return 'text';\n    }\n  };\n\n  // Render select field\n  if (field.type === 'select' || field.type === 'multiselect') {\n    return (\n      <div className={cn('dui-field', hasError && 'dui-field--error')}>\n        <label htmlFor={inputId} className=\"dui-field__label\">\n          {resolveLabel(String(field.label))}\n          {field.required && <span className=\"dui-field__required\">*</span>}\n        </label>\n        <select\n          id={inputId}\n          name={field.name}\n          value={value as string || ''}\n          onChange={(e) => onChange(e.target.value)}\n          onBlur={onBlur}\n          disabled={disabled || field.disabled}\n          className=\"dui-field__select\"\n          multiple={field.type === 'multiselect'}\n        >\n          {!field.required && <option value=\"\">{resolveLabel('select_placeholder','Select...')}</option>}\n          {field.options?.map((option) => (\n            <option \n              key={String(option.value)} \n              value={String(option.value)}\n              disabled={option.disabled}\n            >\n              {resolveLabel(String(option.label))}\n            </option>\n          ))}\n        </select>\n        {field.helpText && <p className=\"dui-field__help\">{field.helpText}</p>}\n        {hasError && <p className=\"dui-field__error\">{error}</p>}\n      </div>\n    );\n  }\n\n  // Render checkbox/switch field\n  if (field.type === 'checkbox' || field.type === 'switch') {\n    return (\n      <div className={cn('dui-field dui-field--checkbox', hasError && 'dui-field--error')}>\n        <label className=\"dui-field__checkbox-label\">\n          <input\n            type=\"checkbox\"\n            id={inputId}\n            name={field.name}\n            checked={Boolean(value)}\n            onChange={(e) => onChange(e.target.checked)}\n            onBlur={onBlur}\n            disabled={disabled || field.disabled}\n            className={field.type === 'switch' ? 'dui-field__switch' : 'dui-field__checkbox'}\n          />\n          <span>{resolveLabel(String(field.label))}</span>\n          {field.required && <span className=\"dui-field__required\">*</span>}\n        </label>\n        {field.helpText && <p className=\"dui-field__help\">{resolveLabel(String(field.helpText))}</p>}\n        {hasError && <p className=\"dui-field__error\">{error}</p>}\n      </div>\n    );\n  }\n\n  // Render textarea field\n  if (field.type === 'textarea') {\n    return (\n      <div className={cn('dui-field', hasError && 'dui-field--error')}>\n        <label htmlFor={inputId} className=\"dui-field__label\">\n          {resolveLabel(String(field.label))}\n          {field.required && <span className=\"dui-field__required\">*</span>}\n        </label>\n        <textarea\n          id={inputId}\n          name={field.name}\n          value={value as string || ''}\n          onChange={(e) => onChange(e.target.value)}\n          onBlur={onBlur}\n          disabled={disabled || field.disabled}\n          readOnly={readOnly || field.readOnly}\n          placeholder={field.placeholder ? resolveLabel(String(field.placeholder)) : undefined}\n          maxLength={field.maxLength}\n          className=\"dui-field__textarea\"\n          rows={4}\n        />\n        {field.helpText && <p className=\"dui-field__help\">{resolveLabel(String(field.helpText))}</p>}\n        {hasError && <p className=\"dui-field__error\">{error}</p>}\n      </div>\n    );\n  }\n\n  // Render radio group\n  if (field.type === 'radio') {\n    return (\n      <div className={cn('dui-field', hasError && 'dui-field--error')}>\n        <span className=\"dui-field__label\">\n          {resolveLabel(String(field.label))}\n          {field.required && <span className=\"dui-field__required\">*</span>}\n        </span>\n        <div className=\"dui-field__radio-group\">\n          {field.options?.map((option) => (\n            <label key={String(option.value)} className=\"dui-field__radio-label\">\n              <input\n                type=\"radio\"\n                name={field.name}\n                value={String(option.value)}\n                checked={value === option.value}\n                onChange={(e) => onChange(e.target.value)}\n                onBlur={onBlur}\n                disabled={disabled || field.disabled || option.disabled}\n                className=\"dui-field__radio\"\n              />\n              <span>{resolveLabel(String(option.label))}</span>\n            </label>\n          ))}\n        </div>\n        {field.helpText && <p className=\"dui-field__help\">{resolveLabel(String(field.helpText))}</p>}\n        {hasError && <p className=\"dui-field__error\">{error}</p>}\n      </div>\n    );\n  }\n\n  // Default: render input field\n\n  // Apply optional display formatting when field is read-only / computed\n  let displayValue: string | number | undefined = value as string | number | undefined;\n  \n  // Transform date/datetime values to HTML input format\n  if ((field.type === 'date' || field.type === 'datetime' || field.type === 'time') && value) {\n    try {\n      const date = new Date(value as string);\n      if (!isNaN(date.getTime())) {\n        switch (field.type) {\n          case 'date':\n            displayValue = date.toISOString().split('T')[0];\n            break;\n          case 'datetime':\n            displayValue = date.toISOString().slice(0, 16);\n            break;\n          case 'time':\n            displayValue = date.toTimeString().slice(0, 5);\n            break;\n        }\n      }\n    } catch {\n      // Keep original value if parsing fails\n    }\n  }\n  \n  const shouldFormat = typeof value === 'number' && (readOnly || field.readOnly || !!field.computed) && field.format && typeof field.format.toFixed === 'number';\n  if (shouldFormat) {\n    try {\n      displayValue = (value as number).toFixed(field.format!.toFixed!);\n    } catch {\n      displayValue = value as number;\n    }\n  }\n\n  return (\n    <div className={cn('dui-field', hasError && 'dui-field--error')}>\n      <label htmlFor={inputId} className=\"dui-field__label\">\n        {resolveLabel(String(field.label))}\n        {field.required && <span className=\"dui-field__required\">*</span>}\n      </label>\n      <input\n        type={getInputType()}\n        id={inputId}\n        name={field.name}\n        value={displayValue as string | number || ''}\n        onChange={(e) => {\n          let newValue: any = e.target.value;\n          \n          // Transform date/time inputs back to ISO format\n          if ((field.type === 'date' || field.type === 'datetime' || field.type === 'time') && newValue) {\n            try {\n              if (field.type === 'date') {\n                newValue = new Date(newValue + 'T00:00:00').toISOString();\n              } else if (field.type === 'datetime') {\n                newValue = new Date(newValue).toISOString();\n              } else if (field.type === 'time') {\n                // Keep time as-is\n                newValue = newValue;\n              }\n            } catch {\n              // Keep original value if parsing fails\n            }\n          } else if (field.type === 'number' || field.type === 'currency' || field.type === 'percent') {\n            newValue = newValue === '' ? undefined : parseFloat(newValue);\n          }\n          \n          onChange(newValue);\n        }}\n        onBlur={onBlur}\n        disabled={disabled || field.disabled}\n        readOnly={readOnly || field.readOnly}\n        placeholder={field.placeholder ? resolveLabel(String(field.placeholder)) : undefined}\n        min={field.min}\n        max={field.max}\n        maxLength={field.maxLength}\n        className=\"dui-field__input\"\n      />\n      {field.helpText && <p className=\"dui-field__help\">{resolveLabel(String(field.helpText))}</p>}\n      {hasError && <p className=\"dui-field__error\">{error}</p>}\n    </div>\n  );\n}\n\n// =============================================================================\n// DEFAULT SECTION RENDERER\n// =============================================================================\n\n/**\n * Default section renderer component\n */\nfunction DefaultSectionRenderer({\n  section,\n  isCollapsed,\n  toggleCollapse,\n  children,\n}: SectionRenderProps): React.ReactElement {\n  return (\n    <div className=\"dui-form-section\">\n      <div \n        className={cn(\n          'dui-form-section__header',\n          section.collapsible && 'dui-form-section__header--collapsible'\n        )}\n        onClick={section.collapsible ? toggleCollapse : undefined}\n      >\n        {section.icon && (\n          <span className=\"dui-form-section__icon\">{section.icon}</span>\n        )}\n        <div className=\"dui-form-section__title-group\">\n          <h3 className=\"dui-form-section__title\">{typeof section.title === 'string' ? resolveLabel(section.title) : section.title}</h3>\n          {section.description && (\n            <p className=\"dui-form-section__description\">{typeof section.description === 'string' ? resolveLabel(section.description) : section.description}</p>\n          )}\n        </div>\n        {section.collapsible && (\n          <span className={cn(\n            'dui-form-section__collapse-icon',\n            isCollapsed && 'dui-form-section__collapse-icon--collapsed'\n          )}>\n            \n          </span>\n        )}\n      </div>\n      {!isCollapsed && (\n        <div \n          className=\"dui-form-section__content\"\n          style={{\n            display: 'grid',\n            gridTemplateColumns: `repeat(${section.columns || 1}, minmax(0, 1fr))`,\n            gap: '1rem',\n          }}\n        >\n          {children}\n        </div>\n      )}\n    </div>\n  );\n}\n\n// =============================================================================\n// FORM RENDERER COMPONENT\n// =============================================================================\n\n/**\n * FormRenderer component\n * \n * Renders a dynamic form based on JSON configuration.\n * \n * @example\n * ```tsx\n * <FormRenderer\n *   config={formConfig}\n *   values={formData}\n *   onChange={(name, value, allValues) => setFormData(allValues)}\n *   onSubmit={(values) => saveData(values)}\n *   onCancel={() => router.back()}\n * />\n * ```\n */\nfunction FormRendererInner<T extends DataRecord = DataRecord>(\n  props: FormRendererProps<T>,\n  ref: React.ForwardedRef<FormRendererRef<T>>\n): React.ReactElement {\n  const {\n    config,\n    values: controlledValues,\n    initialValues = {} as T,\n    errors: controlledErrors,\n    onSubmit,\n    onCancel,\n    onChange,\n    onBlur,\n    onValidationError,\n    loading = false,\n    disabled = false,\n    readOnly = false,\n    renderField: customRenderField,\n    renderSection: customRenderSection,\n    className,\n    hideButtons = false,\n    footer,\n    header,\n  } = props;\n\n  const { t } = useI18n();\n\n  // Internal state for uncontrolled mode\n  const [internalValues, setInternalValues] = useState<T>(initialValues);\n  const [internalErrors, setInternalErrors] = useState<FormErrors>({});\n  const [touched, setTouched] = useState<FormTouched>({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  // Collapsed sections state\n  const [collapsedSections, setCollapsedSections] = useState<Set<string>>(() => {\n    const initial = new Set<string>();\n    config.sections.forEach((section) => {\n      if (section.defaultCollapsed) {\n        initial.add(section.id);\n      }\n    });\n    return initial;\n  });\n\n  // Determine if controlled or uncontrolled\n  const isControlled = controlledValues !== undefined;\n  const values = isControlled ? controlledValues : internalValues;\n  const errors = controlledErrors || internalErrors;\n\n  // Store initial values for dirty check\n  const initialValuesRef = React.useRef(initialValues);\n\n  // ==========================================================================\n  // HELPER FUNCTIONS\n  // ==========================================================================\n\n  /**\n   * Check if a field should be visible based on showWhen conditions\n   */\n  const isFieldVisible = useCallback((field: FieldConfig): boolean => {\n    if (field.type === 'hidden') return false;\n    if (!field.showWhen) return true;\n    return evaluateConditions(field.showWhen, values as DataRecord);\n  }, [values]);\n\n  /**\n   * Check if a section should be visible\n   */\n  const isSectionVisible = useCallback((section: FormSectionConfig): boolean => {\n    if (!section.showWhen) return true;\n    return evaluateConditions(section.showWhen, values as DataRecord);\n  }, [values]);\n\n  /**\n   * Get computed value for a field\n   */\n  const getComputedValue = useCallback((field: FieldConfig): FieldValue => {\n    if (!field.computed || !field.computed.formula) {\n      return getNestedValue(values as DataRecord, field.name);\n    }\n\n    const { formula, deps } = field.computed;\n\n    // Check if all dependencies have values\n    const hasAllDeps = deps.every((dep) => {\n      const depValue = getNestedValue(values as DataRecord, dep);\n      return depValue !== undefined && depValue !== null && depValue !== '';\n    });\n\n    if (!hasAllDeps) {\n      return getNestedValue(values as DataRecord, field.name);\n    }\n\n    try {\n      // Build context with dependency values\n      const context: Record<string, number> = {};\n      for (const dep of deps) {\n        const depValue = getNestedValue(values as DataRecord, dep);\n        context[dep] = typeof depValue === 'number' ? depValue : parseFloat(String(depValue)) || 0;\n      }\n\n      // Replace field references in formula\n      let expression = formula;\n      for (const [key, value] of Object.entries(context)) {\n        expression = expression.replace(new RegExp(`\\\\{${key}\\\\}`, 'g'), String(value));\n        expression = expression.replace(new RegExp(`\\\\b${key}\\\\b`, 'g'), String(value));\n      }\n\n      // Safe arithmetic evaluation (only allow numbers and math operators)\n      const safeExpression = expression.replace(/[^0-9+\\-*/().Math\\s]/g, '');\n      const fn = new Function(`return ${safeExpression}`);\n      const result = fn();\n\n      return typeof result === 'number' && !isNaN(result) ? result : undefined;\n    } catch {\n      return getNestedValue(values as DataRecord, field.name);\n    }\n  }, [values]);\n\n  /**\n   * Get all visible fields from all sections\n   */\n  const getVisibleFields = useCallback((): FieldConfig[] => {\n    return config.sections\n      .filter(isSectionVisible)\n      .flatMap((section) => section.fields.filter(isFieldVisible));\n  }, [config.sections, isSectionVisible, isFieldVisible]);\n\n  /**\n   * Validate a single field\n   */\n  const validateField = useCallback((field: FieldConfig): string | undefined => {\n    const value = field.computed \n      ? getComputedValue(field) \n      : getNestedValue(values as DataRecord, field.name);\n    const result = coreValidateField(value, field, values as DataRecord);\n    return result.valid ? undefined : result.message;\n  }, [values, getComputedValue]);\n\n  /**\n   * Validate all visible fields\n   */\n  const validateAll = useCallback((): boolean => {\n    const visibleFields = getVisibleFields();\n    const newErrors: FormErrors = {};\n    let isValid = true;\n\n    for (const field of visibleFields) {\n      const error = validateField(field);\n      if (error) {\n        newErrors[field.name] = error;\n        isValid = false;\n      }\n    }\n\n    if (!isControlled) {\n      setInternalErrors(newErrors);\n    }\n\n    if (!isValid && onValidationError) {\n      onValidationError(newErrors);\n    }\n\n    return isValid;\n  }, [getVisibleFields, validateField, isControlled, onValidationError]);\n\n  /**\n   * Set a single field value\n   */\n  const setValue = useCallback((name: string, value: FieldValue) => {\n    const newValues = { ...values, [name]: value } as T;\n    \n    if (!isControlled) {\n      setInternalValues(newValues);\n    }\n\n    if (onChange) {\n      onChange(name, value, newValues);\n    }\n  }, [values, isControlled, onChange]);\n\n  /**\n   * Set multiple field values\n   */\n  const setValues = useCallback((newValues: Partial<T>) => {\n    const merged = { ...values, ...newValues } as T;\n    \n    if (!isControlled) {\n      setInternalValues(merged);\n    }\n\n    // Call onChange for each changed field\n    if (onChange) {\n      for (const [name, value] of Object.entries(newValues)) {\n        onChange(name, value as FieldValue, merged);\n      }\n    }\n  }, [values, isControlled, onChange]);\n\n  /**\n   * Reset form to initial values\n   */\n  const reset = useCallback(() => {\n    if (!isControlled) {\n      setInternalValues(initialValuesRef.current);\n      setInternalErrors({});\n    }\n    setTouched({});\n  }, [isControlled]);\n\n  /**\n   * Check if form is dirty (values changed from initial)\n   */\n  const isDirty = useCallback((): boolean => {\n    return JSON.stringify(values) !== JSON.stringify(initialValuesRef.current);\n  }, [values]);\n\n  /**\n   * Handle form submission\n   */\n  const handleSubmit = useCallback(async (e?: React.FormEvent) => {\n    if (e) {\n      e.preventDefault();\n    }\n\n    if (loading || isSubmitting) return;\n\n    // Mark all fields as touched\n    const allTouched: FormTouched = {};\n    getVisibleFields().forEach((field) => {\n      allTouched[field.name] = true;\n    });\n    setTouched(allTouched);\n\n    // Validate\n    const isValid = validateAll();\n    if (!isValid) return;\n\n    // Submit\n    if (onSubmit) {\n      setIsSubmitting(true);\n      try {\n        await onSubmit(values);\n      } finally {\n        setIsSubmitting(false);\n      }\n    }\n  }, [loading, isSubmitting, getVisibleFields, validateAll, onSubmit, values]);\n\n  /**\n   * Handle field change\n   */\n  const handleFieldChange = useCallback((name: string, value: FieldValue) => {\n    setValue(name, value);\n\n    // Validate on change if validationMode is 'onChange'\n    if (config.validationMode === 'onChange') {\n      const field = getVisibleFields().find((f) => f.name === name);\n      if (field) {\n        const error = validateField(field);\n        if (!isControlled) {\n          setInternalErrors((prev) => ({\n            ...prev,\n            [name]: error,\n          }));\n        }\n      }\n    }\n  }, [setValue, config.validationMode, getVisibleFields, validateField, isControlled]);\n\n  /**\n   * Handle field blur\n   */\n  const handleFieldBlur = useCallback((name: string) => {\n    setTouched((prev) => ({ ...prev, [name]: true }));\n\n    if (onBlur) {\n      onBlur(name);\n    }\n\n    // Validate on blur if validationMode is 'onBlur'\n    if (config.validationMode === 'onBlur' || !config.validationMode) {\n      const field = getVisibleFields().find((f) => f.name === name);\n      if (field) {\n        const error = validateField(field);\n        if (!isControlled) {\n          setInternalErrors((prev) => ({\n            ...prev,\n            [name]: error,\n          }));\n        }\n      }\n    }\n  }, [onBlur, config.validationMode, getVisibleFields, validateField, isControlled]);\n\n  /**\n   * Toggle section collapse\n   */\n  const toggleSectionCollapse = useCallback((sectionId: string) => {\n    setCollapsedSections((prev) => {\n      const next = new Set(prev);\n      if (next.has(sectionId)) {\n        next.delete(sectionId);\n      } else {\n        next.add(sectionId);\n      }\n      return next;\n    });\n  }, []);\n\n  // ==========================================================================\n  // IMPERATIVE HANDLE\n  // ==========================================================================\n\n  useImperativeHandle(ref, () => ({\n    getValues: () => values,\n    setValues,\n    setValue,\n    validate: validateAll,\n    reset,\n    getErrors: () => errors,\n    isDirty,\n    submit: handleSubmit,\n  }), [values, setValues, setValue, validateAll, reset, errors, isDirty, handleSubmit]);\n\n  // ==========================================================================\n  // RENDER FIELD\n  // ==========================================================================\n\n  const renderFieldElement = useCallback((field: FieldConfig): React.ReactNode => {\n    if (!isFieldVisible(field)) return null;\n\n    const fieldValue = field.computed \n      ? getComputedValue(field) \n      : getNestedValue(values as DataRecord, field.name);\n\n    const renderProps: FieldRenderProps = {\n      field,\n      value: fieldValue,\n      formData: values as FormValues,\n      error: errors[field.name],\n      touched: !!touched[field.name],\n      disabled: disabled || loading,\n      readOnly: readOnly || !!field.computed,\n      onChange: (value) => handleFieldChange(field.name, value),\n      onBlur: () => handleFieldBlur(field.name),\n    };\n\n    // Use custom renderer if provided\n    if (customRenderField) {\n      return (\n        <div \n          key={field.name}\n          style={{ gridColumn: field.colSpan ? `span ${field.colSpan}` : undefined }}\n        >\n          {customRenderField(renderProps)}\n        </div>\n      );\n    }\n\n    // Use default renderer\n    return (\n      <div \n        key={field.name}\n        style={{ gridColumn: field.colSpan ? `span ${field.colSpan}` : undefined }}\n      >\n        <DefaultFieldRenderer {...renderProps} />\n      </div>\n    );\n  }, [\n    isFieldVisible, \n    getComputedValue, \n    values, \n    errors, \n    touched, \n    disabled, \n    loading, \n    readOnly, \n    handleFieldChange, \n    handleFieldBlur, \n    customRenderField\n  ]);\n\n  // ==========================================================================\n  // RENDER SECTION\n  // ==========================================================================\n\n  const renderSectionElement = useCallback((section: FormSectionConfig): React.ReactNode => {\n    if (!isSectionVisible(section)) return null;\n\n    const isCollapsed = collapsedSections.has(section.id);\n    const visibleFields = section.fields.filter(isFieldVisible);\n\n    if (visibleFields.length === 0) return null;\n\n    const children = visibleFields.map(renderFieldElement);\n\n    const sectionProps: SectionRenderProps = {\n      section,\n      isCollapsed,\n      toggleCollapse: () => toggleSectionCollapse(section.id),\n      children,\n    };\n\n    // Use custom renderer if provided\n    if (customRenderSection) {\n      return <React.Fragment key={section.id}>{customRenderSection(sectionProps)}</React.Fragment>;\n    }\n\n    // Use default renderer\n    return <DefaultSectionRenderer key={section.id} {...sectionProps} />;\n  }, [\n    isSectionVisible, \n    collapsedSections, \n    isFieldVisible, \n    renderFieldElement, \n    toggleSectionCollapse, \n    customRenderSection\n  ]);\n\n  // ==========================================================================\n  // MEMOIZED SECTIONS\n  // ==========================================================================\n\n  const renderedSections = useMemo(() => {\n    return config.sections.map(renderSectionElement);\n  }, [config.sections, renderSectionElement]);\n\n  // ==========================================================================\n  // RENDER\n  // ==========================================================================\n\n  const submitLabel = config.submitLabel || t('form.submit');\n  const cancelLabel = config.cancelLabel || t('form.cancel');\n  const isFormDisabled = disabled || loading || isSubmitting;\n\n  return (\n    <form \n      onSubmit={handleSubmit}\n      className={cn('dui-form', className)}\n    >\n      {/* Header */}\n      {(config.title || header) && (\n        <div className=\"dui-form__header\">\n          {header || (\n            <>\n              <h2 className=\"dui-form__title\">{config.title}</h2>\n              {config.description && (\n                <p className=\"dui-form__description\">{config.description}</p>\n              )}\n            </>\n          )}\n        </div>\n      )}\n\n      {/* Sections */}\n      <div className=\"dui-form__body\">\n        {renderedSections}\n      </div>\n\n      {/* Footer / Buttons */}\n      {(footer || (!hideButtons && (onSubmit || onCancel || config.showCancel))) && (\n        <div className=\"dui-form__footer\">\n          {footer || (\n            <>\n              {(onCancel || config.showCancel) && (\n                <button\n                  type=\"button\"\n                  onClick={onCancel}\n                  disabled={isFormDisabled}\n                  className=\"dui-form__button dui-form__button--cancel\"\n                >\n                  {cancelLabel}\n                </button>\n              )}\n              {onSubmit && (\n                <button\n                  type=\"submit\"\n                  disabled={isFormDisabled}\n                  className=\"dui-form__button dui-form__button--submit\"\n                >\n                  {(loading || isSubmitting) ? t('form.submitting') : submitLabel}\n                </button>\n              )}\n            </>\n          )}\n        </div>\n      )}\n    </form>\n  );\n}\n\n// Forward ref with generic support\nexport const FormRenderer = forwardRef(FormRendererInner) as <T extends DataRecord = DataRecord>(\n  props: FormRendererProps<T> & { ref?: React.ForwardedRef<FormRendererRef<T>> }\n) => React.ReactElement;\n\n// Set display name\n(FormRenderer as React.FC).displayName = 'FormRenderer';\n\nexport default FormRenderer;\n","/**\n * @fileoverview DynamicModal Component\n * \n * A modal dialog wrapper for dynamic forms with support for:\n * - Multiple tabs/sections\n * - Loading and error states\n * - Confirmation dialogs\n * - Custom actions (save, delete, cancel)\n * - Backdrop click handling\n * - Keyboard shortcuts (Escape to close)\n * \n * @module components/DynamicModal\n */\n\nimport React, { \n  forwardRef, \n  useImperativeHandle, \n  useCallback,\n  useState,\n  useEffect,\n  useRef,\n  useMemo,\n} from 'react';\nimport type { \n  FormConfig, \n  FieldValue, \n  DataRecord,\n} from '../core/types';\nimport { cn } from '../core/utils';\nimport { useI18n } from '../i18n/I18n';\nimport { FormRenderer, type FormRendererRef, type FormErrors } from './FormRenderer';\n\n// =============================================================================\n// TYPES\n// =============================================================================\n\n/**\n * Modal size variants\n */\nexport type ModalSize = 'sm' | 'md' | 'lg' | 'xl' | 'full';\n\n/**\n * Tab configuration for tabbed modals\n */\nexport interface ModalTab {\n  /** Unique tab identifier */\n  id: string;\n  /** Tab label */\n  label: string;\n  /** Tab icon (optional) */\n  icon?: React.ReactNode;\n  /** Tab content (FormConfig or custom content) */\n  content?: FormConfig;\n  /** Custom render function for tab content */\n  render?: (formData: DataRecord) => React.ReactNode;\n  /** Whether tab is disabled */\n  disabled?: boolean;\n  /** Badge count or text */\n  badge?: string | number;\n}\n\n/**\n * Modal action button\n */\nexport interface ModalAction {\n  /** Unique action identifier */\n  id: string;\n  /** Button label */\n  label: string;\n  /** Button variant */\n  variant?: 'primary' | 'secondary' | 'danger' | 'ghost';\n  /** Icon (optional) */\n  icon?: React.ReactNode;\n  /** Whether action is disabled */\n  disabled?: boolean;\n  /** Whether action is loading */\n  loading?: boolean;\n  /** Click handler */\n  onClick?: () => void | Promise<void>;\n  /** Position in footer */\n  position?: 'left' | 'right';\n}\n\n/**\n * Confirmation dialog config\n */\nexport interface ConfirmationConfig {\n  /** Dialog title */\n  title: string;\n  /** Dialog message */\n  message: string;\n  /** Confirm button label */\n  confirmLabel?: string;\n  /** Cancel button label */\n  cancelLabel?: string;\n  /** Confirm button variant */\n  confirmVariant?: 'primary' | 'danger';\n}\n\n/**\n * DynamicModal props\n */\nexport interface DynamicModalProps<T extends DataRecord = DataRecord> {\n  /** Whether modal is open */\n  open: boolean;\n  /** Callback when modal should close */\n  onClose: () => void;\n  /** Modal title */\n  title: string;\n  /** Modal subtitle/description */\n  subtitle?: string;\n  /** Modal size */\n  size?: ModalSize;\n  /** Form configuration (for single-form modals) */\n  config?: FormConfig;\n  /** Tabs configuration (for tabbed modals) */\n  tabs?: ModalTab[];\n  /** Initial form values */\n  initialValues?: T;\n  /** Submit handler */\n  onSubmit?: (values: T) => void | Promise<void>;\n  /** Delete handler (shows delete button if provided) */\n  onDelete?: () => void | Promise<void>;\n  /** Custom actions */\n  actions?: ModalAction[];\n  /** External loading state */\n  loading?: boolean;\n  /** External error message */\n  error?: string;\n  /** Validation errors */\n  errors?: FormErrors;\n  /** Whether to close on backdrop click */\n  closeOnBackdropClick?: boolean;\n  /** Whether to close on Escape key */\n  closeOnEscape?: boolean;\n  /** Custom header content */\n  header?: React.ReactNode;\n  /** Custom footer content */\n  footer?: React.ReactNode;\n  /** Additional class name */\n  className?: string;\n  /** Delete confirmation config */\n  deleteConfirmation?: ConfirmationConfig;\n  /** Whether to show close button in header */\n  showCloseButton?: boolean;\n  /** Custom field renderer for FormRenderer */\n  renderField?: React.ComponentProps<typeof FormRenderer>['renderField'];\n  /** Custom section renderer for FormRenderer */\n  renderSection?: React.ComponentProps<typeof FormRenderer>['renderSection'];\n  /** Theme mode: 'system' (prefers-color-scheme), 'light' or 'dark' */\n  theme?: 'system' | 'light' | 'dark';\n}\n\n/**\n * DynamicModal ref interface\n */\nexport interface DynamicModalRef<T extends DataRecord = DataRecord> {\n  /** Get current form values */\n  getValues: () => T;\n  /** Set form values */\n  setValues: (values: Partial<T>) => void;\n  /** Validate form */\n  validate: () => boolean;\n  /** Reset form */\n  reset: () => void;\n  /** Close the modal */\n  close: () => void;\n  /** Submit the form */\n  submit: () => Promise<void>;\n}\n\n// =============================================================================\n// SIZE MAP\n// =============================================================================\n\nconst SIZE_MAP: Record<ModalSize, string> = {\n  sm: 'dui-modal--sm',\n  md: 'dui-modal--md',\n  lg: 'dui-modal--lg',\n  xl: 'dui-modal--xl',\n  full: 'dui-modal--full',\n};\n\n// =============================================================================\n// CONFIRMATION DIALOG\n// =============================================================================\n\ninterface ConfirmDialogProps {\n  open: boolean;\n  onConfirm: () => void;\n  onCancel: () => void;\n  config: ConfirmationConfig;\n  loading?: boolean;\n}\n\nfunction ConfirmDialog({ open, onConfirm, onCancel, config, loading }: ConfirmDialogProps) {\n  const { t } = useI18n();\n\n  if (!open) return null;\n\n  return (\n    <div className=\"dui-modal__confirm-overlay\">\n      <div className=\"dui-modal__confirm-dialog\">\n        <h4 className=\"dui-modal__confirm-title\">{typeof config.title === 'string' ? t(config.title) : config.title}</h4>\n        <p className=\"dui-modal__confirm-message\">{typeof config.message === 'string' ? t(config.message) : config.message}</p>\n        <div className=\"dui-modal__confirm-actions\">\n          <button\n            type=\"button\"\n            onClick={onCancel}\n            disabled={loading}\n            className=\"dui-modal__button dui-modal__button--secondary\"\n          >\n            {config.cancelLabel || t('modal.cancel')}\n          </button>\n          <button\n            type=\"button\"\n            onClick={onConfirm}\n            disabled={loading}\n            className={cn(\n              'dui-modal__button',\n              config.confirmVariant === 'danger' \n                ? 'dui-modal__button--danger' \n                : 'dui-modal__button--primary'\n            )}\n          >\n            {loading ? t('modal.loading') : config.confirmLabel || t('modal.confirm')}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// =============================================================================\n// DYNAMIC MODAL COMPONENT\n// =============================================================================\n\n/**\n * DynamicModal component\n * \n * A flexible modal dialog for forms and content.\n * \n * @example\n * ```tsx\n * <DynamicModal\n *   open={isOpen}\n *   onClose={() => setIsOpen(false)}\n *   title=\"Edit Product\"\n *   config={productFormConfig}\n *   initialValues={product}\n *   onSubmit={handleSave}\n *   onDelete={handleDelete}\n *   size=\"lg\"\n * />\n * ```\n */\nfunction DynamicModalInner<T extends DataRecord = DataRecord>(\n  props: DynamicModalProps<T>,\n  ref: React.ForwardedRef<DynamicModalRef<T>>\n): React.ReactElement | null {\n  const {\n    open,\n    onClose,\n    title,\n    subtitle,\n    size = 'md',\n    config,\n    tabs,\n    initialValues = {} as T,\n    onSubmit,\n    onDelete,\n    actions = [],\n    loading = false,\n    error,\n    errors,\n    closeOnBackdropClick = true,\n    closeOnEscape = true,\n    header,\n    footer,\n    className,\n    deleteConfirmation,\n    showCloseButton = true,\n    renderField,\n    renderSection,\n    theme = 'system',\n  } = props;\n\n  const { t } = useI18n();\n  const formRef = useRef<FormRendererRef<T>>(null);\n  const modalRef = useRef<HTMLDivElement>(null);\n\n  // State\n  const [activeTab, setActiveTab] = useState<string>(tabs?.[0]?.id || '');\n  const [internalValues, setInternalValues] = useState<T>(initialValues);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [isDeleting, setIsDeleting] = useState(false);\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n\n  // Reset state when modal opens\n  useEffect(() => {\n    if (open) {\n      setInternalValues(initialValues);\n      setActiveTab(tabs?.[0]?.id || '');\n      setShowDeleteConfirm(false);\n    }\n  }, [open, initialValues, tabs]);\n\n  // Handle Escape key\n  useEffect(() => {\n    if (!open || !closeOnEscape) return;\n\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'Escape' && !showDeleteConfirm) {\n        onClose();\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [open, closeOnEscape, onClose, showDeleteConfirm]);\n\n  // Lock body scroll when open\n  useEffect(() => {\n    if (open) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = '';\n    }\n    return () => {\n      document.body.style.overflow = '';\n    };\n  }, [open]);\n\n  // Focus trap (basic implementation)\n  useEffect(() => {\n    if (!open || !modalRef.current) return;\n\n    const focusableElements = modalRef.current.querySelectorAll(\n      'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n    );\n    const firstElement = focusableElements[0] as HTMLElement;\n    const lastElement = focusableElements[focusableElements.length - 1] as HTMLElement;\n\n    const handleTab = (e: KeyboardEvent) => {\n      if (e.key !== 'Tab') return;\n\n      if (e.shiftKey) {\n        if (document.activeElement === firstElement) {\n          e.preventDefault();\n          lastElement?.focus();\n        }\n      } else {\n        if (document.activeElement === lastElement) {\n          e.preventDefault();\n          firstElement?.focus();\n        }\n      }\n    };\n\n    document.addEventListener('keydown', handleTab);\n    firstElement?.focus();\n\n    return () => document.removeEventListener('keydown', handleTab);\n  }, [open]);\n\n  // ==========================================================================\n  // HANDLERS\n  // ==========================================================================\n\n  /**\n   * Handle backdrop click\n   */\n  const handleBackdropClick = useCallback((e: React.MouseEvent) => {\n    if (e.target === e.currentTarget && closeOnBackdropClick && !showDeleteConfirm) {\n      onClose();\n    }\n  }, [closeOnBackdropClick, onClose, showDeleteConfirm]);\n\n  /**\n   * Handle form value change\n   */\n  const handleFormChange = useCallback((name: string, value: FieldValue, values: T) => {\n    setInternalValues(values);\n  }, []);\n\n  /**\n   * Handle form submit\n   */\n  const handleSubmit = useCallback(async () => {\n    if (loading || isSubmitting) return;\n\n    // Validate first\n    const isValid = formRef.current?.validate();\n    if (!isValid) return;\n\n    const values = formRef.current?.getValues() || internalValues;\n\n    if (onSubmit) {\n      setIsSubmitting(true);\n      try {\n        await onSubmit(values);\n      } finally {\n        setIsSubmitting(false);\n      }\n    }\n  }, [loading, isSubmitting, internalValues, onSubmit]);\n\n  /**\n   * Handle delete\n   */\n  const handleDelete = useCallback(async () => {\n    if (!onDelete) return;\n\n    setIsDeleting(true);\n    try {\n      await onDelete();\n      setShowDeleteConfirm(false);\n    } finally {\n      setIsDeleting(false);\n    }\n  }, [onDelete]);\n\n  /**\n   * Handle delete button click\n   */\n  const handleDeleteClick = useCallback(() => {\n    if (deleteConfirmation) {\n      setShowDeleteConfirm(true);\n    } else if (onDelete) {\n      handleDelete();\n    }\n  }, [deleteConfirmation, onDelete, handleDelete]);\n\n  // ==========================================================================\n  // IMPERATIVE HANDLE\n  // ==========================================================================\n\n  useImperativeHandle(ref, () => ({\n    getValues: () => formRef.current?.getValues() || internalValues,\n    setValues: (values) => {\n      formRef.current?.setValues(values);\n      setInternalValues((prev) => ({ ...prev, ...values }));\n    },\n    validate: () => formRef.current?.validate() || true,\n    reset: () => {\n      formRef.current?.reset();\n      setInternalValues(initialValues);\n    },\n    close: onClose,\n    submit: handleSubmit,\n  }), [internalValues, initialValues, onClose, handleSubmit]);\n\n  // ==========================================================================\n  // RENDER HELPERS\n  // ==========================================================================\n\n  /**\n   * Get current tab config\n   */\n  const currentTab = useMemo(() => {\n    return tabs?.find((tab) => tab.id === activeTab);\n  }, [tabs, activeTab]);\n\n  /**\n   * Get current form config\n   */\n  const currentFormConfig = useMemo(() => {\n    if (config) return config;\n    return currentTab?.content;\n  }, [config, currentTab]);\n\n  /**\n   * Render tabs header\n   */\n  const renderTabs = useCallback(() => {\n    if (!tabs || tabs.length === 0) return null;\n\n    return (\n      <div className=\"dui-modal__tabs\">\n        {tabs.map((tab) => (\n          <button\n            key={tab.id}\n            type=\"button\"\n            onClick={() => setActiveTab(tab.id)}\n            disabled={tab.disabled}\n            className={cn(\n              'dui-modal__tab',\n              activeTab === tab.id && 'dui-modal__tab--active',\n              tab.disabled && 'dui-modal__tab--disabled'\n            )}\n          >\n            {tab.icon && <span className=\"dui-modal__tab-icon\">{tab.icon}</span>}\n            <span className=\"dui-modal__tab-label\">{tab.label}</span>\n            {tab.badge !== undefined && (\n              <span className=\"dui-modal__tab-badge\">{tab.badge}</span>\n            )}\n          </button>\n        ))}\n      </div>\n    );\n  }, [tabs, activeTab]);\n\n  /**\n   * Render content\n   */\n  const renderContent = useCallback(() => {\n    // Custom render for current tab\n    if (currentTab?.render) {\n      return currentTab.render(internalValues as DataRecord);\n    }\n\n    // Form content\n    if (currentFormConfig) {\n      return (\n        <FormRenderer<T>\n          ref={formRef}\n          config={currentFormConfig}\n          values={internalValues}\n          errors={errors}\n          onChange={handleFormChange}\n          loading={loading || isSubmitting}\n          renderField={renderField}\n          renderSection={renderSection}\n          hideButtons\n        />\n      );\n    }\n\n    return null;\n  }, [\n    currentTab, \n    currentFormConfig, \n    internalValues, \n    errors, \n    handleFormChange, \n    loading, \n    isSubmitting,\n    renderField,\n    renderSection,\n  ]);\n\n  /**\n   * Render actions\n   */\n  const renderActions = useCallback(() => {\n    if (footer) return footer;\n\n    const leftActions = actions.filter((a) => a.position === 'left');\n    const rightActions = actions.filter((a) => a.position !== 'left');\n\n    return (\n      <div className=\"dui-modal__footer\">\n        <div className=\"dui-modal__footer-left\">\n          {/* Delete button */}\n          {onDelete && (\n            <button\n              type=\"button\"\n              onClick={handleDeleteClick}\n              disabled={loading || isSubmitting || isDeleting}\n              className=\"dui-modal__button dui-modal__button--danger\"\n            >\n              {isDeleting ? t('modal.deleting') : t('modal.delete')}\n            </button>\n          )}\n          \n          {/* Left custom actions */}\n          {leftActions.map((action) => (\n            <button\n              key={action.id}\n              type=\"button\"\n              onClick={action.onClick}\n              disabled={action.disabled || action.loading}\n              className={cn(\n                'dui-modal__button',\n                `dui-modal__button--${action.variant || 'secondary'}`\n              )}\n            >\n              {action.icon && <span className=\"dui-modal__button-icon\">{action.icon}</span>}\n              {action.loading ? t('modal.loading') : action.label}\n            </button>\n          ))}\n        </div>\n\n        <div className=\"dui-modal__footer-right\">\n          {/* Right custom actions */}\n          {rightActions.map((action) => (\n            <button\n              key={action.id}\n              type=\"button\"\n              onClick={action.onClick}\n              disabled={action.disabled || action.loading}\n              className={cn(\n                'dui-modal__button',\n                `dui-modal__button--${action.variant || 'secondary'}`\n              )}\n            >\n              {action.icon && <span className=\"dui-modal__button-icon\">{action.icon}</span>}\n              {action.loading ? t('modal.loading') : action.label}\n            </button>\n          ))}\n\n          {/* Cancel button */}\n          <button\n            type=\"button\"\n            onClick={onClose}\n            disabled={loading || isSubmitting}\n            className=\"dui-modal__button dui-modal__button--secondary\"\n          >\n            {t('modal.cancel')}\n          </button>\n\n          {/* Submit button */}\n          {onSubmit && (\n            <button\n              type=\"button\"\n              onClick={handleSubmit}\n              disabled={loading || isSubmitting}\n              className=\"dui-modal__button dui-modal__button--primary\"\n            >\n              {(loading || isSubmitting) ? t('modal.saving') : t('modal.save')}\n            </button>\n          )}\n        </div>\n      </div>\n    );\n  }, [\n    footer, \n    actions, \n    onDelete, \n    onSubmit, \n    onClose, \n    handleDeleteClick, \n    handleSubmit, \n    loading, \n    isSubmitting, \n    isDeleting,\n    t,\n  ]);\n\n  // ==========================================================================\n  // RENDER\n  // ==========================================================================\n\n  if (!open) return null;\n\n  const overlayClass = cn(\n    'dui-modal__overlay',\n    theme === 'dark' ? 'dui-theme--dark' : theme === 'light' ? 'dui-theme--light' : ''\n  );\n\n  return (\n    <div \n      className={overlayClass}\n      onClick={handleBackdropClick}\n      role=\"dialog\"\n      aria-modal=\"true\"\n      aria-labelledby=\"modal-title\"\n    >\n      <div \n        ref={modalRef}\n        className={cn(\n          'dui-modal',\n          SIZE_MAP[size],\n          className\n        )}\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Header */}\n        {header || (\n          <div className=\"dui-modal__header\">\n            <div className=\"dui-modal__header-content\">\n              <h2 id=\"modal-title\" className=\"dui-modal__title\">{title}</h2>\n              {subtitle && <p className=\"dui-modal__subtitle\">{subtitle}</p>}\n            </div>\n            {showCloseButton && (\n              <button\n                type=\"button\"\n                onClick={onClose}\n                className=\"dui-modal__close\"\n                aria-label={t('modal.close')}\n              >\n                \n              </button>\n            )}\n          </div>\n        )}\n\n        {/* Tabs */}\n        {renderTabs()}\n\n        {/* Error message */}\n        {error && (\n          <div className=\"dui-modal__error\">\n            {error}\n          </div>\n        )}\n\n        {/* Content */}\n        <div className=\"dui-modal__body\">\n          {renderContent()}\n        </div>\n\n        {/* Footer */}\n        {renderActions()}\n\n        {/* Delete confirmation */}\n        {deleteConfirmation && (\n          <ConfirmDialog\n            open={showDeleteConfirm}\n            onConfirm={handleDelete}\n            onCancel={() => setShowDeleteConfirm(false)}\n            config={deleteConfirmation}\n            loading={isDeleting}\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n\n// Forward ref with generic support\nexport const DynamicModal = forwardRef(DynamicModalInner) as <T extends DataRecord = DataRecord>(\n  props: DynamicModalProps<T> & { ref?: React.ForwardedRef<DynamicModalRef<T>> }\n) => React.ReactElement | null;\n\n// Set display name\n(DynamicModal as React.FC).displayName = 'DynamicModal';\n\nexport default DynamicModal;\n"]}