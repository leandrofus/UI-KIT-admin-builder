{"version":3,"sources":["../src/field-system/FieldRegistry.ts","../src/field-system/FieldFactory.tsx","../src/field-system/BaseFields.tsx"],"names":["t","TextField","NumberField","useCallback","CurrencyField","useMemo","TextareaField","SelectField","CheckboxField","SwitchField"],"mappings":"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","file":"chunk-SKXFJTBW.mjs","sourcesContent":["/**\n * @fileoverview Field Registry - Register and manage custom field components\n * \n * Provides a centralized registry for field components, allowing dynamic\n * registration of custom fields that can be used in forms and tables.\n * \n * @module field-system/FieldRegistry\n */\n\nimport type { ComponentType } from 'react';\nimport type { FieldConfig, FieldValue, DataRecord } from '../core/types';\n\n// =============================================================================\n// TYPES\n// =============================================================================\n\n/**\n * Props passed to all field components\n */\nexport interface BaseFieldProps<T = FieldValue> {\n  /** Field configuration */\n  field: FieldConfig;\n  /** Current field value */\n  value: T;\n  /** Change handler */\n  onChange: (value: T) => void;\n  /** Blur handler */\n  onBlur?: () => void;\n  /** Validation error */\n  error?: string;\n  /** Whether field has been touched */\n  touched?: boolean;\n  /** Complete form data (for conditional logic) */\n  formData?: DataRecord;\n  /** Whether field is disabled */\n  disabled?: boolean;\n  /** Whether field is read-only */\n  readOnly?: boolean;\n  /** Additional className */\n  className?: string;\n}\n\n/**\n * Field component type\n */\nexport type FieldComponent<T = FieldValue> = ComponentType<BaseFieldProps<T>>;\n\n/**\n * Field registration info\n */\nexport interface FieldRegistration {\n  /** Field component */\n  component: FieldComponent;\n  /** Field type identifier */\n  type: string;\n  /** Human-readable name */\n  displayName?: string;\n  /** Description */\n  description?: string;\n  /** Default props */\n  defaultProps?: Partial<FieldConfig>;\n  /** Whether this field supports multiple values */\n  isMultiValue?: boolean;\n  /** Value serializer (for complex values) */\n  serialize?: (value: FieldValue) => string;\n  /** Value deserializer */\n  deserialize?: (value: string) => FieldValue;\n}\n\n/**\n * Registry options\n */\nexport interface FieldRegistryOptions {\n  /** Whether to throw on duplicate registration */\n  throwOnDuplicate?: boolean;\n  /** Whether to allow overwriting existing registrations */\n  allowOverwrite?: boolean;\n}\n\n// =============================================================================\n// FIELD REGISTRY CLASS\n// =============================================================================\n\n/**\n * Field Registry - Manages custom field component registrations\n * \n * @example\n * // Create a registry\n * const registry = new FieldRegistry();\n * \n * // Register a custom field\n * registry.register({\n *   type: 'color-picker',\n *   component: ColorPickerField,\n *   displayName: 'Color Picker',\n * });\n * \n * // Get the component\n * const ColorField = registry.get('color-picker');\n */\nexport class FieldRegistry {\n  private fields: Map<string, FieldRegistration> = new Map();\n  private options: FieldRegistryOptions;\n\n  constructor(options: FieldRegistryOptions = {}) {\n    this.options = {\n      throwOnDuplicate: false,\n      allowOverwrite: true,\n      ...options,\n    };\n  }\n\n  /**\n   * Register a field type\n   */\n  register(registration: FieldRegistration): this {\n    const { type } = registration;\n\n    if (this.fields.has(type)) {\n      if (this.options.throwOnDuplicate && !this.options.allowOverwrite) {\n        throw new Error(`Field type \"${type}\" is already registered`);\n      }\n\n      if (!this.options.allowOverwrite) {\n        console.warn(`Field type \"${type}\" already registered, skipping`);\n        return this;\n      }\n    }\n\n    this.fields.set(type, registration);\n    return this;\n  }\n\n  /**\n   * Register multiple field types\n   */\n  registerMany(registrations: FieldRegistration[]): this {\n    for (const registration of registrations) {\n      this.register(registration);\n    }\n    return this;\n  }\n\n  /**\n   * Get a field component by type\n   */\n  get(type: string): FieldComponent | undefined {\n    return this.fields.get(type)?.component;\n  }\n\n  /**\n   * Get full registration info\n   */\n  getRegistration(type: string): FieldRegistration | undefined {\n    return this.fields.get(type);\n  }\n\n  /**\n   * Check if a field type is registered\n   */\n  has(type: string): boolean {\n    return this.fields.has(type);\n  }\n\n  /**\n   * Remove a field registration\n   */\n  unregister(type: string): boolean {\n    return this.fields.delete(type);\n  }\n\n  /**\n   * Get all registered field types\n   */\n  getTypes(): string[] {\n    return Array.from(this.fields.keys());\n  }\n\n  /**\n   * Get all registrations\n   */\n  getAll(): FieldRegistration[] {\n    return Array.from(this.fields.values());\n  }\n\n  /**\n   * Clear all registrations\n   */\n  clear(): void {\n    this.fields.clear();\n  }\n\n  /**\n   * Clone the registry\n   */\n  clone(): FieldRegistry {\n    const newRegistry = new FieldRegistry(this.options);\n    this.fields.forEach((registration, type) => {\n      newRegistry.fields.set(type, { ...registration });\n    });\n    return newRegistry;\n  }\n\n  /**\n   * Merge another registry into this one\n   */\n  merge(other: FieldRegistry): this {\n    other.fields.forEach((registration) => {\n      this.register(registration);\n    });\n    return this;\n  }\n}\n\n// =============================================================================\n// DEFAULT REGISTRY\n// =============================================================================\n\n/**\n * Global default registry instance\n */\nlet defaultRegistry: FieldRegistry | null = null;\n\n/**\n * Get the default registry (creates one if needed)\n */\nexport function getDefaultRegistry(): FieldRegistry {\n  if (!defaultRegistry) {\n    defaultRegistry = new FieldRegistry();\n  }\n  return defaultRegistry;\n}\n\n/**\n * Set the default registry\n */\nexport function setDefaultRegistry(registry: FieldRegistry): void {\n  defaultRegistry = registry;\n}\n\n/**\n * Register a field to the default registry\n */\nexport function registerField(registration: FieldRegistration): void {\n  getDefaultRegistry().register(registration);\n}\n\n/**\n * Register multiple fields to the default registry\n */\nexport function registerFields(registrations: FieldRegistration[]): void {\n  getDefaultRegistry().registerMany(registrations);\n}\n\n/**\n * Get a field from the default registry\n */\nexport function getField(type: string): FieldComponent | undefined {\n  return getDefaultRegistry().get(type);\n}\n\n// =============================================================================\n// REACT CONTEXT (FOR DI)\n// =============================================================================\n\nimport { createContext, useContext } from 'react';\n\n/**\n * Field Registry Context\n */\nexport const FieldRegistryContext = createContext<FieldRegistry | null>(null);\n\n/**\n * Hook to access the field registry\n */\nexport function useFieldRegistry(): FieldRegistry {\n  const context = useContext(FieldRegistryContext);\n  \n  if (!context) {\n    return getDefaultRegistry();\n  }\n  \n  return context;\n}\n\nexport default FieldRegistry;\n","/**\n * @fileoverview Field Factory - Create field instances from configuration\n * \n * Provides factory functions to create field components from JSON configuration,\n * with support for computed fields, conditional visibility, and validation.\n * \n * @module field-system/FieldFactory\n */\n\nimport React, { useMemo, useCallback } from 'react';\nimport { useI18n as useTranslation } from '../i18n';\nimport type { FieldConfig, FieldValue, DataRecord, FormSection } from '../core/types';\nimport { evaluateConditions, validateField } from '../core/validators';\nimport { getNestedValue } from '../core/utils';\nimport { useFieldRegistry, type BaseFieldProps, type FieldComponent } from './FieldRegistry';\n\n// =============================================================================\n// TYPES\n// =============================================================================\n\n/**\n * Field factory options\n */\nexport interface FieldFactoryOptions {\n  /** Additional props to pass to all fields */\n  defaultProps?: Partial<BaseFieldProps>;\n  /** Wrapper component for fields */\n  wrapper?: React.ComponentType<{ field: FieldConfig; children: React.ReactNode }>;\n  /** Error display component */\n  errorComponent?: React.ComponentType<{ error: string }>;\n  /** Label component */\n  labelComponent?: React.ComponentType<{ field: FieldConfig }>;\n  /** Custom field component overrides */\n  overrides?: Record<string, FieldComponent>;\n  /** Fallback component for unknown field types */\n  fallback?: FieldComponent;\n}\n\n/**\n * Rendered field props\n */\nexport interface RenderedFieldProps {\n  field: FieldConfig;\n  value: FieldValue;\n  formData: DataRecord;\n  onChange: (name: string, value: FieldValue) => void;\n  onBlur?: (name: string) => void;\n  errors?: Record<string, string>;\n  touched?: Record<string, boolean>;\n  disabled?: boolean;\n  readOnly?: boolean;\n}\n\n// =============================================================================\n// FIELD FACTORY HOOK\n// =============================================================================\n\n/**\n * Hook to create field components from configuration\n * \n * @example\n * const { renderField, renderSection, isFieldVisible } = useFieldFactory({\n *   defaultProps: { className: 'my-field' },\n * });\n * \n * return (\n *   <form>\n *     {fields.map(field => renderField({\n *       field,\n *       value: values[field.name],\n *       formData: values,\n *       onChange: handleChange,\n *     }))}\n *   </form>\n * );\n */\nexport function useFieldFactory(options: FieldFactoryOptions = {}) {\n  const registry = useFieldRegistry();\n  const { t } = useTranslation();\n  const {\n    defaultProps = {},\n    wrapper: Wrapper,\n    errorComponent: ErrorComponent,\n    labelComponent: LabelComponent,\n    overrides = {},\n    fallback: FallbackComponent,\n  } = options;\n\n  /**\n   * Check if a field should be visible\n   */\n  const isFieldVisible = useCallback((field: FieldConfig, formData: DataRecord): boolean => {\n    // Hidden type is always invisible in forms\n    if (field.type === 'hidden') return false;\n\n    // Check showWhen condition\n    if (field.showWhen) {\n      return evaluateConditions(field.showWhen, formData);\n    }\n\n    return true;\n  }, []);\n\n  /**\n   * Get computed field value\n   */\n  const getComputedValue = useCallback((field: FieldConfig, formData: DataRecord): FieldValue => {\n    if (!field.computed || !field.computed.formula) {\n      return getNestedValue(formData, field.name);\n    }\n\n    const { formula, deps } = field.computed;\n\n    // Check if all dependencies have values\n    const hasAllDeps = deps.every(dep => {\n      const value = getNestedValue(formData, dep);\n      return value !== undefined && value !== null && value !== '';\n    });\n\n    if (!hasAllDeps) {\n      return getNestedValue(formData, field.name);\n    }\n\n    try {\n      // Build context with dependency values\n      const context: Record<string, number> = {};\n      for (const dep of deps) {\n        const value = getNestedValue(formData, dep);\n        context[dep] = typeof value === 'number' ? value : parseFloat(String(value)) || 0;\n      }\n\n      // Replace field references in formula\n      let expression = formula;\n      for (const [key, value] of Object.entries(context)) {\n        expression = expression.replace(new RegExp(`\\\\{${key}\\\\}`, 'g'), String(value));\n        expression = expression.replace(new RegExp(`\\\\b${key}\\\\b`, 'g'), String(value));\n      }\n\n      // Safe arithmetic evaluation\n      const safeExpression = expression.replace(/[^0-9+\\-*/().Math\\s]/g, '');\n      const fn = new Function(`return ${safeExpression}`);\n      const result = fn();\n\n      return typeof result === 'number' && !isNaN(result) ? result : undefined;\n    } catch {\n      return getNestedValue(formData, field.name);\n    }\n  }, []);\n\n  /**\n   * Render a single field\n   */\n  const renderField = useCallback((props: RenderedFieldProps): React.ReactElement | null => {\n    const { \n      field, \n      value: propValue, \n      formData, \n      onChange, \n      onBlur, \n      errors = {}, \n      touched = {},\n      disabled: formDisabled = false,\n      readOnly: formReadOnly = false,\n    } = props;\n\n    // Check visibility\n    if (!isFieldVisible(field, formData)) {\n      return null;\n    }\n\n    // Get component from overrides or registry\n    let Component: FieldComponent | undefined = overrides[field.name] || overrides[field.type];\n    \n    if (!Component) {\n      Component = registry.get(field.type);\n    }\n\n    if (!Component) {\n      if (FallbackComponent) {\n        Component = FallbackComponent;\n      } else {\n        console.warn(`No component registered for field type: ${field.type}`);\n        return null;\n      }\n    }\n\n    // Compute value if needed\n    const value = field.computed ? getComputedValue(field, formData) : propValue;\n\n    // Build field props\n    const fieldProps: BaseFieldProps = {\n      ...defaultProps,\n      field,\n      value,\n      onChange: (newValue: FieldValue) => onChange(field.name, newValue),\n      onBlur: onBlur ? () => onBlur(field.name) : undefined,\n      error: errors[field.name],\n      touched: touched[field.name],\n      formData,\n      disabled: formDisabled || field.disabled,\n      readOnly: formReadOnly || field.readOnly || !!field.computed,\n    };\n\n    // Build the field element\n    const fieldElement = React.createElement(Component, {\n      ...fieldProps,\n      key: field.name,\n    });\n\n    // Optionally wrap with error and label\n    const withError = ErrorComponent && errors[field.name] && touched[field.name]\n      ? React.createElement(React.Fragment, null,\n          fieldElement,\n          React.createElement(ErrorComponent, { error: errors[field.name] })\n        )\n      : fieldElement;\n\n    const withLabel = LabelComponent\n      ? React.createElement(React.Fragment, null,\n          React.createElement(LabelComponent, { field }),\n          withError\n        )\n      : withError;\n\n    // Apply wrapper if provided\n    if (Wrapper) {\n      return React.createElement(Wrapper, { field, children: withLabel, key: field.name });\n    }\n\n    return withLabel;\n  }, [\n    registry, \n    isFieldVisible, \n    getComputedValue, \n    defaultProps, \n    overrides, \n    FallbackComponent,\n    ErrorComponent,\n    LabelComponent,\n    Wrapper,\n  ]);\n\n  /**\n   * Render a section of fields\n   */\n  const renderSection = useCallback((\n    section: FormSection, \n    formData: DataRecord,\n    handlers: {\n      onChange: (name: string, value: FieldValue) => void;\n      onBlur?: (name: string) => void;\n      errors?: Record<string, string>;\n      touched?: Record<string, boolean>;\n      disabled?: boolean;\n      readOnly?: boolean;\n    }\n  ): React.ReactElement | null => {\n    // Check section visibility\n    if (section.showWhen && !evaluateConditions(section.showWhen, formData)) {\n      return null;\n    }\n\n    const fields = section.fields.map(field => \n      renderField({\n        field,\n        value: getNestedValue(formData, field.name),\n        formData,\n        ...handlers,\n      })\n    ).filter(Boolean);\n\n    if (fields.length === 0) {\n      return null;\n    }\n\n    return React.createElement(\n      'div',\n      { \n        key: section.id || section.title, \n        className: 'form-section',\n        'data-section': section.id || section.title,\n      },\n      section.title && React.createElement('h3', { className: 'section-title' }, typeof section.title === 'string' ? t(section.title) : section.title),\n      section.description && React.createElement('p', { className: 'section-description' }, typeof section.description === 'string' ? t(section.description) : section.description),\n      React.createElement('div', { className: 'section-fields' }, fields)\n    );\n  }, [renderField]);\n\n  /**\n   * Render all sections\n   */\n  const renderSections = useCallback((\n    sections: FormSection[],\n    formData: DataRecord,\n    handlers: {\n      onChange: (name: string, value: FieldValue) => void;\n      onBlur?: (name: string) => void;\n      errors?: Record<string, string>;\n      touched?: Record<string, boolean>;\n      disabled?: boolean;\n      readOnly?: boolean;\n    }\n  ): React.ReactElement[] => {\n    return sections\n      .map(section => renderSection(section, formData, handlers))\n      .filter((el): el is React.ReactElement => el !== null);\n  }, [renderSection]);\n\n  /**\n   * Get visible fields from sections\n   */\n  const getVisibleFields = useCallback((sections: FormSection[], formData: DataRecord): FieldConfig[] => {\n    return sections\n      .filter(section => !section.showWhen || evaluateConditions(section.showWhen, formData))\n      .flatMap(section => section.fields)\n      .filter(field => isFieldVisible(field, formData));\n  }, [isFieldVisible]);\n\n  /**\n   * Validate visible fields\n   */\n  const validateVisibleFields = useCallback((\n    sections: FormSection[], \n    formData: DataRecord\n  ): Record<string, string> => {\n    const errors: Record<string, string> = {};\n    const visibleFields = getVisibleFields(sections, formData);\n\n    for (const field of visibleFields) {\n      const value = getNestedValue(formData, field.name);\n      const result = validateField(value, field, formData);\n      \n      if (!result.valid && result.message) {\n        errors[field.name] = result.message;\n      }\n    }\n\n    return errors;\n  }, [getVisibleFields]);\n\n  return {\n    renderField,\n    renderSection,\n    renderSections,\n    isFieldVisible,\n    getVisibleFields,\n    getComputedValue,\n    validateVisibleFields,\n  };\n}\n\n// =============================================================================\n// STANDALONE FACTORY FUNCTION\n// =============================================================================\n\n/**\n * Create a field factory with the given options\n * For use outside of React components\n */\nexport function createFieldFactory(options: FieldFactoryOptions = {}) {\n  const { overrides = {}, fallback } = options;\n\n  return {\n    /**\n     * Get a field component by type\n     */\n    getComponent(type: string): FieldComponent | undefined {\n      return overrides[type] || fallback;\n    },\n\n    /**\n     * Check if a field type is supported\n     */\n    isSupported(type: string): boolean {\n      return type in overrides || !!fallback;\n    },\n\n    /**\n     * Add an override\n     */\n    addOverride(type: string, component: FieldComponent): void {\n      overrides[type] = component;\n    },\n  };\n}\n\nexport default useFieldFactory;\n","/**\n * @fileoverview Base Field Components - Standard field implementations\n * \n * Provides base implementations for common field types that can be\n * used as-is or extended for custom behavior.\n * \n * @module field-system/fields\n */\n\nimport React, { forwardRef, useCallback, useMemo, useState } from 'react';\nimport type { FieldValue, DataRecord } from '../core/types';\nimport type { BaseFieldProps } from './FieldRegistry';\nimport { cn } from '../core/utils';\nimport { useI18n, resolveLabel, t } from '../i18n/I18n';\n\n// =============================================================================\n// COMMON STYLES\n// =============================================================================\n\nconst baseInputClass = `\n  w-full px-3 py-2 rounded-md border border-gray-300\n  focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n  disabled:bg-gray-100 disabled:cursor-not-allowed\n  read-only:bg-gray-50\n  dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:disabled:bg-gray-800 dark:read-only:bg-gray-800\n`.trim().replace(/\\s+/g, ' ');\n\nconst errorInputClass = 'border-red-500 focus:ring-red-500 focus:border-red-500 dark:border-red-700 dark:focus:ring-red-700';\n\nconst labelClass = 'block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1';\n\nconst errorTextClass = 'text-sm text-red-500 dark:text-red-400 mt-1';\n\nconst helperTextClass = 'text-sm text-gray-500 dark:text-gray-400 mt-1';\n\n// =============================================================================\n// TEXT FIELD\n// =============================================================================\n\nexport interface TextFieldProps extends BaseFieldProps<string> {\n  /** Input type (text, email, password, tel, url) */\n  inputType?: 'text' | 'email' | 'password' | 'tel' | 'url';\n  /** Placeholder text */\n  placeholder?: string;\n  /** Max length */\n  maxLength?: number;\n  /** Auto-focus on mount */\n  autoFocus?: boolean;\n  /** Prefix element */\n  prefix?: React.ReactNode;\n  /** Suffix element */\n  suffix?: React.ReactNode;\n}\n\nexport const TextField = forwardRef<HTMLInputElement, TextFieldProps>(\n  function TextField(props, ref) {\n    const { t } = useI18n();\n    const {\n      field,\n      value = '',\n      onChange,\n      onBlur,\n      error,\n      touched,\n      disabled,\n      readOnly,\n      className,\n      inputType = 'text',\n      placeholder,\n      maxLength,\n      autoFocus,\n      prefix,\n      suffix,\n    } = props;\n\n    const hasError = touched && error;\n\n    return (\n      <div className={cn('field-wrapper', className)}>\n        {field.label && (\n          <label htmlFor={field.name} className={labelClass}>\n            {resolveLabel(String(field.label))}\n            {field.required && <span className=\"text-red-500 ml-1\">*</span>}\n          </label>\n        )}\n        \n        <div className=\"relative flex items-center\">\n          {prefix && (\n            <div className=\"absolute left-3 text-gray-500\">{prefix}</div>\n          )}\n          \n          <input\n            ref={ref}\n            type={inputType}\n            id={field.name}\n            name={field.name}\n            value={value ?? ''}\n            onChange={(e) => onChange(e.target.value)}\n            onBlur={onBlur}\n            disabled={disabled}\n            readOnly={readOnly}\n            placeholder={placeholder ? resolveLabel(String(placeholder)) : (field.placeholder ? resolveLabel(String(field.placeholder)) : undefined)}\n            maxLength={maxLength || field.maxLength}\n            autoFocus={autoFocus}\n            className={cn(\n              baseInputClass,\n              hasError && errorInputClass,\n              prefix && 'pl-10',\n              suffix && 'pr-10'\n            )}\n          />\n          \n          {suffix && (\n            <div className=\"absolute right-3 text-gray-500\">{suffix}</div>\n          )}\n        </div>\n\n        {hasError && <p className={errorTextClass}>{error}</p>}\n        {field.helpText && !hasError && (\n          <p className={helperTextClass}>{resolveLabel(String(field.helpText))}</p>\n        )}\n      </div>\n    );\n  }\n);\n\n// =============================================================================\n// NUMBER FIELD\n// =============================================================================\n\nexport interface NumberFieldProps extends BaseFieldProps<number> {\n  /** Minimum value */\n  min?: number;\n  /** Maximum value */\n  max?: number;\n  /** Step increment */\n  step?: number;\n  /** Decimal places */\n  decimals?: number;\n  /** Show spinner buttons */\n  showSpinner?: boolean;\n}\n\nexport const NumberField = forwardRef<HTMLInputElement, NumberFieldProps>(\n  function NumberField(props, ref) {\n    const {\n      field,\n      value,\n      onChange,\n      onBlur,\n      error,\n      touched,\n      disabled,\n      readOnly,\n      className,\n      min,\n      max,\n      step = 1,\n      decimals,\n      showSpinner = true,\n    } = props;\n\n    const hasError = touched && error;\n\n    const handleChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n      const val = e.target.value;\n      if (val === '') {\n        onChange(undefined as unknown as number);\n        return;\n      }\n      \n      let num = parseFloat(val);\n      if (isNaN(num)) return;\n      \n      if (decimals !== undefined) {\n        num = parseFloat(num.toFixed(decimals));\n      }\n      \n      onChange(num);\n    }, [onChange, decimals]);\n\n    const { t } = useI18n();\n    return (\n      <div className={cn('field-wrapper', className)}>\n        {field.label && (\n          <label htmlFor={field.name} className={labelClass}>\n            {resolveLabel(String(field.label))}\n            {field.required && <span className=\"text-red-500 ml-1\">*</span>}\n          </label>\n        )}\n        \n        <input\n          ref={ref}\n          type=\"number\"\n          id={field.name}\n          name={field.name}\n          value={value ?? ''}\n          onChange={handleChange}\n          onBlur={onBlur}\n          disabled={disabled}\n          readOnly={readOnly}\n          min={min ?? field.min}\n          max={max ?? field.max}\n          step={step}\n          className={cn(\n            baseInputClass,\n            hasError && errorInputClass,\n            !showSpinner && '[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none'\n          )}\n        />\n\n        {hasError && <p className={errorTextClass}>{error}</p>}\n        {field.helpText && !hasError && (\n          <p className={helperTextClass}>{t(String(field.helpText))}</p>\n        )}\n      </div>\n    );\n  }\n);\n\n// =============================================================================\n// CURRENCY FIELD\n// =============================================================================\n\nexport interface CurrencyFieldProps extends BaseFieldProps<number> {\n  /** Currency code (USD, EUR, etc.) */\n  currency?: string;\n  /** Locale for formatting */\n  locale?: string;\n  /** Symbol position */\n  symbolPosition?: 'before' | 'after';\n}\n\nexport const CurrencyField = forwardRef<HTMLInputElement, CurrencyFieldProps>(\n  function CurrencyField(props, ref) {\n    const {\n      field,\n      value,\n      onChange,\n      onBlur,\n      error,\n      touched,\n      disabled,\n      readOnly,\n      className,\n      currency = 'USD',\n      locale = 'en-US',\n      symbolPosition = 'before',\n    } = props;\n\n    const [displayValue, setDisplayValue] = useState(() => {\n      if (value === undefined || value === null) return '';\n      return value.toString();\n    });\n\n    const hasError = touched && error;\n\n    const currencySymbol = useMemo(() => {\n      const formatter = new Intl.NumberFormat(locale, { style: 'currency', currency });\n      const parts = formatter.formatToParts(0);\n      return parts.find(p => p.type === 'currency')?.value || '$';\n    }, [currency, locale]);\n\n    const handleChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n      const val = e.target.value.replace(/[^0-9.,]/g, '');\n      setDisplayValue(val);\n      \n      const num = parseFloat(val.replace(',', '.'));\n      if (!isNaN(num)) {\n        onChange(num);\n      } else if (val === '') {\n        onChange(undefined as unknown as number);\n      }\n    }, [onChange]);\n\n    const handleBlur = useCallback(() => {\n      if (value !== undefined && value !== null) {\n        setDisplayValue(value.toFixed(2));\n      }\n      onBlur?.();\n    }, [value, onBlur]);\n\n    const { t } = useI18n();\n    return (\n      <div className={cn('field-wrapper', className)}>\n        {field.label && (\n          <label htmlFor={field.name} className={labelClass}>\n            {resolveLabel(String(field.label))}\n            {field.required && <span className=\"text-red-500 ml-1\">*</span>}\n          </label>\n        )}\n        \n        <div className=\"relative flex items-center\">\n          {symbolPosition === 'before' && (\n            <div className=\"absolute left-3 text-gray-500\">{currencySymbol}</div>\n          )}\n          \n          <input\n            ref={ref}\n            type=\"text\"\n            inputMode=\"decimal\"\n            id={field.name}\n            name={field.name}\n            value={displayValue}\n            onChange={handleChange}\n            onBlur={handleBlur}\n            disabled={disabled}\n            readOnly={readOnly}\n            placeholder={t('currency.placeholder') || '0.00'}\n            className={cn(\n              baseInputClass,\n              hasError && errorInputClass,\n              symbolPosition === 'before' && 'pl-8',\n              symbolPosition === 'after' && 'pr-8'\n            )}\n          />\n          \n          {symbolPosition === 'after' && (\n            <div className=\"absolute right-3 text-gray-500\">{currencySymbol}</div>\n          )}\n        </div>\n\n        {hasError && <p className={errorTextClass}>{error}</p>}\n        {field.helpText && !hasError && (\n          <p className={helperTextClass}>{t(String(field.helpText))}</p>\n        )}\n      </div>\n    );\n  }\n);\n\n// =============================================================================\n// TEXTAREA FIELD\n// =============================================================================\n\nexport interface TextareaFieldProps extends BaseFieldProps<string> {\n  /** Number of rows */\n  rows?: number;\n  /** Whether to auto-resize */\n  autoResize?: boolean;\n  /** Max height for auto-resize */\n  maxHeight?: number;\n}\n\nexport const TextareaField = forwardRef<HTMLTextAreaElement, TextareaFieldProps>(\n  function TextareaField(props, ref) {\n    const { t } = useI18n();\n    const {\n      field,\n      value = '',\n      onChange,\n      onBlur,\n      error,\n      touched,\n      disabled,\n      readOnly,\n      className,\n      rows = 3,\n      autoResize = false,\n      maxHeight,\n    } = props;\n\n    const hasError = touched && error;\n\n    const handleChange = useCallback((e: React.ChangeEvent<HTMLTextAreaElement>) => {\n      onChange(e.target.value);\n      \n      if (autoResize) {\n        e.target.style.height = 'auto';\n        const newHeight = Math.min(e.target.scrollHeight, maxHeight || Infinity);\n        e.target.style.height = `${newHeight}px`;\n      }\n    }, [onChange, autoResize, maxHeight]);\n\n    return (\n      <div className={cn('field-wrapper', className)}>\n        {field.label && (\n          <label htmlFor={field.name} className={labelClass}>\n            {resolveLabel(String(field.label))}\n            {field.required && <span className=\"text-red-500 ml-1\">*</span>}\n          </label>\n        )}\n        \n        <textarea\n          ref={ref}\n          id={field.name}\n          name={field.name}\n          value={value ?? ''}\n          onChange={handleChange}\n          onBlur={onBlur}\n          disabled={disabled}\n          readOnly={readOnly}\n          rows={rows}\n          placeholder={field.placeholder ? resolveLabel(String(field.placeholder)) : undefined}\n          className={cn(\n            baseInputClass,\n            hasError && errorInputClass,\n            'resize-y'\n          )}\n          style={autoResize ? { overflow: 'hidden' } : undefined}\n        />\n\n        {hasError && <p className={errorTextClass}>{error}</p>}\n        {field.helpText && !hasError && (\n          <p className={helperTextClass}>{t(String(field.helpText))}</p>\n        )}\n      </div>\n    );\n  }\n);\n\n// =============================================================================\n// SELECT FIELD\n// =============================================================================\n\nexport interface SelectOption {\n  value: string | number;\n  label: string;\n  disabled?: boolean;\n}\n\nexport interface SelectFieldProps extends BaseFieldProps<string | number> {\n  /** Available options */\n  options?: SelectOption[];\n  /** Placeholder option text */\n  placeholderOption?: string;\n  /** Allow empty selection */\n  allowEmpty?: boolean;\n}\n\nexport const SelectField = forwardRef<HTMLSelectElement, SelectFieldProps>(\n  function SelectField(props, ref) {\n    const { t } = useI18n();\n    const {\n      field,\n      value,\n      onChange,\n      onBlur,\n      error,\n      touched,\n      disabled,\n      readOnly,\n      className,\n      options: propOptions,\n      placeholderOption = 'Select...',\n      allowEmpty = true,\n    } = props;\n\n    const hasError = touched && error;\n\n    // Get options from props or field config\n    const options: SelectOption[] = useMemo(() => {\n      if (propOptions) return propOptions;\n      if (field.options) {\n        return field.options.map(opt => \n          typeof opt === 'string' \n            ? { value: opt, label: opt }\n            : opt as SelectOption\n        );\n      }\n      return [];\n    }, [propOptions, field.options]);\n\n    return (\n      <div className={cn('field-wrapper', className)}>\n        {field.label && (\n          <label htmlFor={field.name} className={labelClass}>\n            {resolveLabel(String(field.label))}\n            {field.required && <span className=\"text-red-500 ml-1\">*</span>}\n          </label>\n        )}\n        \n        <select\n          ref={ref}\n          id={field.name}\n          name={field.name}\n          value={value ?? ''}\n          onChange={(e) => onChange(e.target.value)}\n          onBlur={onBlur}\n          disabled={disabled || readOnly}\n          className={cn(\n            baseInputClass,\n            hasError && errorInputClass,\n            'cursor-pointer'\n          )}\n        >\n          {allowEmpty && (\n            <option value=\"\">{resolveLabel(String(placeholderOption))}</option>\n          )}\n          {options.map((option) => (\n            <option \n              key={option.value} \n              value={option.value}\n              disabled={option.disabled}\n            >\n              {resolveLabel(String(option.label))}\n            </option>\n          ))}\n        </select>\n\n        {hasError && <p className={errorTextClass}>{error}</p>}\n        {field.helpText && !hasError && (\n          <p className={helperTextClass}>{t(String(field.helpText))}</p>\n        )}\n      </div>\n    );\n  }\n);\n\n// =============================================================================\n// CHECKBOX FIELD\n// =============================================================================\n\nexport interface CheckboxFieldProps extends BaseFieldProps<boolean> {\n  /** Checkbox label (different from field label) */\n  checkboxLabel?: string;\n}\n\nexport const CheckboxField = forwardRef<HTMLInputElement, CheckboxFieldProps>(\n  function CheckboxField(props, ref) {\n    const { t } = useI18n();\n    const {\n      field,\n      value = false,\n      onChange,\n      onBlur,\n      error,\n      touched,\n      disabled,\n      readOnly,\n      className,\n      checkboxLabel,\n    } = props;\n\n    const hasError = touched && error;\n\n    return (\n      <div className={cn('field-wrapper', className)}>\n        <label className=\"flex items-center gap-2 cursor-pointer\">\n          <input\n            ref={ref}\n            type=\"checkbox\"\n            id={field.name}\n            name={field.name}\n            checked={!!value}\n            onChange={(e) => onChange(e.target.checked)}\n            onBlur={onBlur}\n            disabled={disabled || readOnly}\n            className={cn(\n              'h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-blue-600 dark:bg-gray-700',\n              'focus:ring-2 focus:ring-blue-500',\n              disabled && 'cursor-not-allowed opacity-50'\n            )}\n          />\n          <span className=\"text-sm text-gray-700 dark:text-gray-300\">\n            {t(String(checkboxLabel || field.label))}\n            {field.required && <span className=\"text-red-500 ml-1\">*</span>}\n          </span>\n        </label>\n\n        {hasError && <p className={errorTextClass}>{error}</p>}\n        {field.helpText && !hasError && (\n          <p className={helperTextClass}>{field.helpText}</p>\n        )}\n      </div>\n    );\n  }\n);\n\n// =============================================================================\n// SWITCH FIELD\n// =============================================================================\n\nexport interface SwitchFieldProps extends BaseFieldProps<boolean> {\n  /** On label */\n  onLabel?: string;\n  /** Off label */\n  offLabel?: string;\n  /** Size variant */\n  size?: 'sm' | 'md' | 'lg';\n}\n\nexport const SwitchField = forwardRef<HTMLInputElement, SwitchFieldProps>(\n  function SwitchField(props, ref) {\n    const { t } = useI18n();\n    const {\n      field,\n      value = false,\n      onChange,\n      onBlur,\n      error,\n      touched,\n      disabled,\n      readOnly,\n      className,\n      onLabel,\n      offLabel,\n      size = 'md',\n    } = props;\n\n    const hasError = touched && error;\n\n    const sizes = {\n      sm: { track: 'w-8 h-4', thumb: 'h-3 w-3', translate: 'translate-x-4' },\n      md: { track: 'w-11 h-6', thumb: 'h-5 w-5', translate: 'translate-x-5' },\n      lg: { track: 'w-14 h-7', thumb: 'h-6 w-6', translate: 'translate-x-7' },\n    };\n\n    const sizeClasses = sizes[size];\n\n    return (\n      <div className={cn('field-wrapper', className)}>\n        {field.label && (\n          <label className={labelClass}>\n            {resolveLabel(String(field.label))}\n            {field.required && <span className=\"text-red-500 ml-1\">*</span>}\n          </label>\n        )}\n        \n        <div className=\"flex items-center gap-3\">\n          {offLabel && <span className=\"text-sm text-gray-600 dark:text-gray-400\">{resolveLabel(String(offLabel))}</span>}\n          \n          <button\n            ref={ref as unknown as React.Ref<HTMLButtonElement>}\n            type=\"button\"\n            role=\"switch\"\n            aria-checked={value}\n            onClick={() => !disabled && !readOnly && onChange(!value)}\n            onBlur={onBlur}\n            disabled={disabled || readOnly}\n            className={cn(\n              'relative inline-flex shrink-0 cursor-pointer rounded-full',\n              'border-2 border-transparent transition-colors duration-200',\n              'focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2',\n              sizeClasses.track,\n              value ? 'bg-blue-600' : 'bg-gray-200 dark:bg-gray-700',\n              (disabled || readOnly) && 'cursor-not-allowed opacity-50'\n            )}\n          >\n            <span\n              className={cn(\n                'pointer-events-none inline-block rounded-full bg-white dark:bg-gray-200 shadow',\n                'transform ring-0 transition duration-200 ease-in-out',\n                sizeClasses.thumb,\n                value ? sizeClasses.translate : 'translate-x-0'\n              )}\n            />\n          </button>\n          \n          {onLabel && <span className=\"text-sm text-gray-600 dark:text-gray-400\">{t(String(onLabel))}</span>}\n        </div>\n\n        {hasError && <p className={errorTextClass}>{error}</p>}\n        {field.helpText && !hasError && (\n          <p className={helperTextClass}>{field.helpText}</p>\n        )}\n      </div>\n    );\n  }\n);\n\n// =============================================================================\n// HIDDEN FIELD\n// =============================================================================\n\nexport const HiddenField: React.FC<BaseFieldProps> = ({ field, value }) => {\n  return (\n    <input\n      type=\"hidden\"\n      name={field.name}\n      value={value as string ?? ''}\n    />\n  );\n};\n\n// =============================================================================\n// EXPORTS\n// =============================================================================\n\nexport const baseFields = {\n  text: TextField,\n  email: TextField,\n  password: TextField,\n  tel: TextField,\n  url: TextField,\n  number: NumberField,\n  currency: CurrencyField,\n  percent: NumberField,\n  textarea: TextareaField,\n  select: SelectField,\n  checkbox: CheckboxField,\n  switch: SwitchField,\n  hidden: HiddenField,\n};\n\nexport default baseFields;\n"]}